{"version":3,"file":"qrcode.js","sourceRoot":"","sources":["../assets/qrcode.js"],"names":[],"mappings":"AAAA,CAAC,UAAU,OAAO;IACjB,IAAI,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,GAAG,EAAE;QAC/C,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;KACpB;SAAM,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;QACvC,MAAM,CAAC,OAAO,GAAG,OAAO,EAAE,CAAC;KAC3B;SAAM;QACN,MAAM,CAAC,MAAM,GAAG,OAAO,EAAE,CAAC;KAC1B;AACF,CAAC,CAAC;IACD,IAAI,MAAM,GAAG;QAEZ,uEAAuE;QACvE,SAAS;QACT,uEAAuE;QAEvE;;;;WAIG;QACH,IAAI,MAAM,GAAG,UAAU,UAAU,EAAE,oBAAoB;YAEtD,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,IAAI,WAAW,GAAG,UAAU,CAAC;YAC7B,IAAI,qBAAqB,GAAG,sBAAsB,CAAC,oBAAoB,CAAC,CAAC;YACzE,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,IAAI,YAAY,GAAG,CAAC,CAAC;YACrB,IAAI,UAAU,GAAG,IAAI,CAAC;YACtB,IAAI,SAAS,GAAG,EAAE,CAAC;YAEnB,IAAI,KAAK,GAAG,EAAE,CAAC;YAEf,IAAI,QAAQ,GAAG,UAAU,IAAI,EAAE,WAAW;gBAEzC,YAAY,GAAG,WAAW,GAAG,CAAC,GAAG,EAAE,CAAC;gBACpC,QAAQ,GAAG,UAAU,WAAW;oBAC/B,IAAI,OAAO,GAAG,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC;oBACrC,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,WAAW,EAAE,GAAG,IAAI,CAAC,EAAE;wBAC9C,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC;wBACtC,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,WAAW,EAAE,GAAG,IAAI,CAAC,EAAE;4BAC9C,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;yBACzB;qBACD;oBACD,OAAO,OAAO,CAAC;gBAChB,CAAC,CAAC,YAAY,CAAC,CAAC;gBAEhB,yBAAyB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAChC,yBAAyB,CAAC,YAAY,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC/C,yBAAyB,CAAC,CAAC,EAAE,YAAY,GAAG,CAAC,CAAC,CAAC;gBAC/C,0BAA0B,EAAE,CAAC;gBAC7B,kBAAkB,EAAE,CAAC;gBACrB,aAAa,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;gBAEjC,IAAI,WAAW,IAAI,CAAC,EAAE;oBACrB,eAAe,CAAC,IAAI,CAAC,CAAC;iBACtB;gBAED,IAAI,UAAU,IAAI,IAAI,EAAE;oBACvB,UAAU,GAAG,UAAU,CAAC,WAAW,EAAE,qBAAqB,EAAE,SAAS,CAAC,CAAC;iBACvE;gBAED,OAAO,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;YAClC,CAAC,CAAC;YAEF,IAAI,yBAAyB,GAAG,UAAU,GAAG,EAAE,GAAG;gBAEjD,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;oBAEhC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,YAAY,IAAI,GAAG,GAAG,CAAC;wBAAE,SAAS;oBAEvD,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;wBAEhC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,YAAY,IAAI,GAAG,GAAG,CAAC;4BAAE,SAAS;wBAEvD,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;+BACxC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;+BACxC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;4BAC3C,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;yBAClC;6BAAM;4BACN,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;yBACnC;qBACD;iBACD;YACF,CAAC,CAAC;YAEF,IAAI,kBAAkB,GAAG;gBAExB,IAAI,YAAY,GAAG,CAAC,CAAC;gBACrB,IAAI,OAAO,GAAG,CAAC,CAAC;gBAEhB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;oBAE9B,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;oBAElB,IAAI,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBAE3C,IAAI,CAAC,IAAI,CAAC,IAAI,YAAY,GAAG,SAAS,EAAE;wBACvC,YAAY,GAAG,SAAS,CAAC;wBACzB,OAAO,GAAG,CAAC,CAAC;qBACZ;iBACD;gBAED,OAAO,OAAO,CAAC;YAChB,CAAC,CAAC;YAEF,IAAI,kBAAkB,GAAG;gBAExB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;oBAC7C,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;wBAC3B,SAAS;qBACT;oBACD,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;iBAC9B;gBAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;oBAC7C,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;wBAC3B,SAAS;qBACT;oBACD,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;iBAC9B;YACF,CAAC,CAAC;YAEF,IAAI,0BAA0B,GAAG;gBAEhC,IAAI,GAAG,GAAG,MAAM,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;gBAEjD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;oBAEvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;wBAEvC,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;wBACjB,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;wBAEjB,IAAI,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE;4BAC/B,SAAS;yBACT;wBAED,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;4BAEhC,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;gCAEhC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;uCACtC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;oCACvB,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;iCAClC;qCAAM;oCACN,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;iCACnC;6BACD;yBACD;qBACD;iBACD;YACF,CAAC,CAAC;YAEF,IAAI,eAAe,GAAG,UAAU,IAAI;gBAEnC,IAAI,IAAI,GAAG,MAAM,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;gBAEhD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;oBAC/B,IAAI,GAAG,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC5C,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;iBAChE;gBAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;oBAC/B,IAAI,GAAG,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC5C,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;iBAChE;YACF,CAAC,CAAC;YAEF,IAAI,aAAa,GAAG,UAAU,IAAI,EAAE,WAAW;gBAE9C,IAAI,IAAI,GAAG,CAAC,qBAAqB,IAAI,CAAC,CAAC,GAAG,WAAW,CAAC;gBACtD,IAAI,IAAI,GAAG,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAEvC,WAAW;gBACX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;oBAE/B,IAAI,GAAG,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBAE5C,IAAI,CAAC,GAAG,CAAC,EAAE;wBACV,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;qBACrB;yBAAM,IAAI,CAAC,GAAG,CAAC,EAAE;wBACjB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;qBACzB;yBAAM;wBACN,QAAQ,CAAC,YAAY,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;qBACzC;iBACD;gBAED,aAAa;gBACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;oBAE/B,IAAI,GAAG,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBAE5C,IAAI,CAAC,GAAG,CAAC,EAAE;wBACV,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;qBACxC;yBAAM,IAAI,CAAC,GAAG,CAAC,EAAE;wBACjB,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;qBAClC;yBAAM;wBACN,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;qBAC9B;iBACD;gBAED,eAAe;gBACf,QAAQ,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;YACzC,CAAC,CAAC;YAEF,IAAI,OAAO,GAAG,UAAU,IAAI,EAAE,WAAW;gBAExC,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC;gBACb,IAAI,GAAG,GAAG,YAAY,GAAG,CAAC,CAAC;gBAC3B,IAAI,QAAQ,GAAG,CAAC,CAAC;gBACjB,IAAI,SAAS,GAAG,CAAC,CAAC;gBAClB,IAAI,QAAQ,GAAG,MAAM,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;gBAEnD,KAAK,IAAI,GAAG,GAAG,YAAY,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE;oBAEnD,IAAI,GAAG,IAAI,CAAC;wBAAE,GAAG,IAAI,CAAC,CAAC;oBAEvB,OAAO,IAAI,EAAE;wBAEZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;4BAE9B,IAAI,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,IAAI,EAAE;gCAEnC,IAAI,IAAI,GAAG,KAAK,CAAC;gCAEjB,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,EAAE;oCAC5B,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;iCACnD;gCAED,IAAI,IAAI,GAAG,QAAQ,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;gCAElC,IAAI,IAAI,EAAE;oCACT,IAAI,GAAG,CAAC,IAAI,CAAC;iCACb;gCAED,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;gCAC9B,QAAQ,IAAI,CAAC,CAAC;gCAEd,IAAI,QAAQ,IAAI,CAAC,CAAC,EAAE;oCACnB,SAAS,IAAI,CAAC,CAAC;oCACf,QAAQ,GAAG,CAAC,CAAC;iCACb;6BACD;yBACD;wBAED,GAAG,IAAI,GAAG,CAAC;wBAEX,IAAI,GAAG,GAAG,CAAC,IAAI,YAAY,IAAI,GAAG,EAAE;4BACnC,GAAG,IAAI,GAAG,CAAC;4BACX,GAAG,GAAG,CAAC,GAAG,CAAC;4BACX,MAAM;yBACN;qBACD;iBACD;YACF,CAAC,CAAC;YAEF,IAAI,WAAW,GAAG,UAAU,MAAM,EAAE,QAAQ;gBAE3C,IAAI,MAAM,GAAG,CAAC,CAAC;gBAEf,IAAI,UAAU,GAAG,CAAC,CAAC;gBACnB,IAAI,UAAU,GAAG,CAAC,CAAC;gBAEnB,IAAI,MAAM,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,IAAI,MAAM,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAExC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;oBAE5C,IAAI,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;oBACpC,IAAI,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,OAAO,CAAC;oBAE/C,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;oBAC3C,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;oBAE3C,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;oBAE/B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;wBAC7C,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC;qBACrD;oBACD,MAAM,IAAI,OAAO,CAAC;oBAElB,IAAI,MAAM,GAAG,MAAM,CAAC,yBAAyB,CAAC,OAAO,CAAC,CAAC;oBACvD,IAAI,OAAO,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC;oBAE9D,IAAI,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;oBAClC,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC;oBAC9C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;wBAC7C,IAAI,QAAQ,GAAG,CAAC,GAAG,OAAO,CAAC,SAAS,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;wBAC1D,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBAC7D;iBACD;gBAED,IAAI,cAAc,GAAG,CAAC,CAAC;gBACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;oBAC5C,cAAc,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;iBACzC;gBAED,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC;gBACrC,IAAI,KAAK,GAAG,CAAC,CAAC;gBAEd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE,CAAC,IAAI,CAAC,EAAE;oBACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;wBAC5C,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;4BACzB,IAAI,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC3B,KAAK,IAAI,CAAC,CAAC;yBACX;qBACD;iBACD;gBAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE,CAAC,IAAI,CAAC,EAAE;oBACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;wBAC5C,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;4BACzB,IAAI,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC3B,KAAK,IAAI,CAAC,CAAC;yBACX;qBACD;iBACD;gBAED,OAAO,IAAI,CAAC;YACb,CAAC,CAAC;YAEF,IAAI,UAAU,GAAG,UAAU,UAAU,EAAE,oBAAoB,EAAE,QAAQ;gBAEpE,IAAI,QAAQ,GAAG,SAAS,CAAC,WAAW,CAAC,UAAU,EAAE,oBAAoB,CAAC,CAAC;gBAEvE,IAAI,MAAM,GAAG,WAAW,EAAE,CAAC;gBAE3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;oBAC5C,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACvB,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;oBAC9B,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC;oBACjF,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;iBACnB;gBAED,qBAAqB;gBACrB,IAAI,cAAc,GAAG,CAAC,CAAC;gBACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;oBAC5C,cAAc,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;iBACxC;gBAED,IAAI,MAAM,CAAC,eAAe,EAAE,GAAG,cAAc,GAAG,CAAC,EAAE;oBAClD,MAAM,yBAAyB;0BAC7B,MAAM,CAAC,eAAe,EAAE;0BACxB,GAAG;0BACH,cAAc,GAAG,CAAC;0BAClB,GAAG,CAAC;iBACN;gBAED,WAAW;gBACX,IAAI,MAAM,CAAC,eAAe,EAAE,GAAG,CAAC,IAAI,cAAc,GAAG,CAAC,EAAE;oBACvD,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBACjB;gBAED,UAAU;gBACV,OAAO,MAAM,CAAC,eAAe,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE;oBACzC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBACrB;gBAED,UAAU;gBACV,OAAO,IAAI,EAAE;oBAEZ,IAAI,MAAM,CAAC,eAAe,EAAE,IAAI,cAAc,GAAG,CAAC,EAAE;wBACnD,MAAM;qBACN;oBACD,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;oBAEpB,IAAI,MAAM,CAAC,eAAe,EAAE,IAAI,cAAc,GAAG,CAAC,EAAE;wBACnD,MAAM;qBACN;oBACD,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;iBACpB;gBAED,OAAO,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YACtC,CAAC,CAAC;YAEF,KAAK,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE,IAAI;gBAEnC,IAAI,GAAG,IAAI,IAAI,MAAM,CAAC;gBAEtB,IAAI,OAAO,GAAG,IAAI,CAAC;gBAEnB,QAAQ,IAAI,EAAE;oBACb,KAAK,SAAS;wBACb,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;wBACzB,MAAM;oBACP,KAAK,cAAc;wBAClB,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;wBAC3B,MAAM;oBACP,KAAK,MAAM;wBACV,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;wBAC3B,MAAM;oBACP,KAAK,OAAO;wBACX,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;wBACxB,MAAM;oBACP;wBACC,MAAM,OAAO,GAAG,IAAI,CAAC;iBACtB;gBAED,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACxB,UAAU,GAAG,IAAI,CAAC;YACnB,CAAC,CAAC;YAEF,KAAK,CAAC,MAAM,GAAG,UAAU,GAAG,EAAE,GAAG;gBAChC,IAAI,GAAG,GAAG,CAAC,IAAI,YAAY,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC,IAAI,YAAY,IAAI,GAAG,EAAE;oBACrE,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;iBACtB;gBACD,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YAC3B,CAAC,CAAC;YAEF,KAAK,CAAC,cAAc,GAAG;gBACtB,OAAO,YAAY,CAAC;YACrB,CAAC,CAAC;YAEF,KAAK,CAAC,IAAI,GAAG;gBACZ,IAAI,WAAW,GAAG,CAAC,EAAE;oBACpB,IAAI,UAAU,GAAG,CAAC,CAAC;oBAEnB,OAAO,UAAU,GAAG,EAAE,EAAE,UAAU,EAAE,EAAE;wBACrC,IAAI,QAAQ,GAAG,SAAS,CAAC,WAAW,CAAC,UAAU,EAAE,qBAAqB,CAAC,CAAC;wBACxE,IAAI,MAAM,GAAG,WAAW,EAAE,CAAC;wBAE3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;4BAC1C,IAAI,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;4BACxB,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;4BAC9B,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC;4BACjF,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;yBACnB;wBAED,IAAI,cAAc,GAAG,CAAC,CAAC;wBACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;4BACzC,cAAc,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;yBACxC;wBAED,IAAI,MAAM,CAAC,eAAe,EAAE,IAAI,cAAc,GAAG,CAAC,EAAE;4BACnD,MAAM;yBACN;qBACD;oBAED,WAAW,GAAG,UAAU,CAAC;iBACzB;gBAED,QAAQ,CAAC,KAAK,EAAE,kBAAkB,EAAE,CAAC,CAAC;YACvC,CAAC,CAAC;YAEF,KAAK,CAAC,cAAc,GAAG,UAAU,QAAQ,EAAE,MAAM;gBAEhD,QAAQ,GAAG,QAAQ,IAAI,CAAC,CAAC;gBACzB,MAAM,GAAG,CAAC,OAAO,MAAM,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAEhE,IAAI,MAAM,GAAG,EAAE,CAAC;gBAEhB,MAAM,IAAI,gBAAgB,CAAC;gBAC3B,MAAM,IAAI,yCAAyC,CAAC;gBACpD,MAAM,IAAI,6BAA6B,CAAC;gBACxC,MAAM,IAAI,yBAAyB,GAAG,MAAM,GAAG,KAAK,CAAC;gBACrD,MAAM,IAAI,IAAI,CAAC;gBACf,MAAM,IAAI,SAAS,CAAC;gBAEpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,cAAc,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;oBAEnD,MAAM,IAAI,MAAM,CAAC;oBAEjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,cAAc,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;wBACnD,MAAM,IAAI,aAAa,CAAC;wBACxB,MAAM,IAAI,yCAAyC,CAAC;wBACpD,MAAM,IAAI,6BAA6B,CAAC;wBACxC,MAAM,IAAI,6BAA6B,CAAC;wBACxC,MAAM,IAAI,UAAU,GAAG,QAAQ,GAAG,KAAK,CAAC;wBACxC,MAAM,IAAI,WAAW,GAAG,QAAQ,GAAG,KAAK,CAAC;wBACzC,MAAM,IAAI,qBAAqB,CAAC;wBAChC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;wBACrD,MAAM,IAAI,GAAG,CAAC;wBACd,MAAM,IAAI,KAAK,CAAC;qBAChB;oBAED,MAAM,IAAI,OAAO,CAAC;iBAClB;gBAED,MAAM,IAAI,UAAU,CAAC;gBACrB,MAAM,IAAI,UAAU,CAAC;gBAErB,OAAO,MAAM,CAAC;YACf,CAAC,CAAC;YAEF,KAAK,CAAC,YAAY,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,GAAG,EAAE,KAAK;gBAE1D,IAAI,IAAI,GAAG,EAAE,CAAC;gBACd,IAAI,OAAO,SAAS,CAAC,CAAC,CAAC,IAAI,QAAQ,EAAE;oBACpC,qBAAqB;oBACrB,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;oBACpB,iCAAiC;oBACjC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;oBACzB,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;oBACrB,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;oBACf,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;iBACnB;gBAED,QAAQ,GAAG,QAAQ,IAAI,CAAC,CAAC;gBACzB,MAAM,GAAG,CAAC,OAAO,MAAM,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAEhE,iCAAiC;gBACjC,GAAG,GAAG,CAAC,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC;gBAC5D,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC;gBAC5B,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,oBAAoB,CAAC,CAAC,CAAC,IAAI,CAAC;gBAE5D,mCAAmC;gBACnC,KAAK,GAAG,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC;gBACpE,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC;gBAChC,KAAK,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC;gBAE5D,IAAI,IAAI,GAAG,KAAK,CAAC,cAAc,EAAE,GAAG,QAAQ,GAAG,MAAM,GAAG,CAAC,CAAC;gBAC1D,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,GAAG,EAAE,EAAE,IAAI,CAAC;gBAEnC,IAAI,GAAG,GAAG,GAAG,QAAQ,GAAG,OAAO,GAAG,QAAQ;oBACzC,IAAI,GAAG,QAAQ,GAAG,QAAQ,GAAG,QAAQ,GAAG,IAAI,CAAC;gBAE9C,KAAK,IAAI,uDAAuD,CAAC;gBACjE,KAAK,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,GAAG,cAAc,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;gBACjF,KAAK,IAAI,gBAAgB,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC;gBACrD,KAAK,IAAI,sCAAsC,CAAC;gBAChD,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,+BAA+B;oBAClE,SAAS,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;gBAC3D,KAAK,IAAI,GAAG,CAAC;gBACb,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,IAAI;oBACjE,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC;gBACzC,KAAK,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,mBAAmB,GAAG,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI;oBACnE,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC;gBAC7C,KAAK,IAAI,+DAA+D,CAAC;gBACzE,KAAK,IAAI,WAAW,CAAC;gBAErB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,cAAc,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;oBAC/C,EAAE,GAAG,CAAC,GAAG,QAAQ,GAAG,MAAM,CAAC;oBAC3B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,cAAc,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;wBAC/C,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;4BACvB,EAAE,GAAG,CAAC,GAAG,QAAQ,GAAG,MAAM,CAAC;4BAC3B,KAAK,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC;yBACpC;qBACD;iBACD;gBAED,KAAK,IAAI,uCAAuC,CAAC;gBACjD,KAAK,IAAI,QAAQ,CAAC;gBAElB,OAAO,KAAK,CAAC;YACd,CAAC,CAAC;YAEF,KAAK,CAAC,aAAa,GAAG,UAAU,QAAQ,EAAE,MAAM;gBAE/C,QAAQ,GAAG,QAAQ,IAAI,CAAC,CAAC;gBACzB,MAAM,GAAG,CAAC,OAAO,MAAM,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAEhE,IAAI,IAAI,GAAG,KAAK,CAAC,cAAc,EAAE,GAAG,QAAQ,GAAG,MAAM,GAAG,CAAC,CAAC;gBAC1D,IAAI,GAAG,GAAG,MAAM,CAAC;gBACjB,IAAI,GAAG,GAAG,IAAI,GAAG,MAAM,CAAC;gBAExB,OAAO,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,UAAU,CAAC,EAAE,CAAC;oBAC9C,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,EAAE;wBAC/C,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC;wBACzC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC;wBACzC,OAAO,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBAClC;yBAAM;wBACN,OAAO,CAAC,CAAC;qBACT;gBACF,CAAC,CAAC,CAAC;YACJ,CAAC,CAAC;YAEF,KAAK,CAAC,YAAY,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE,GAAG;gBAEnD,QAAQ,GAAG,QAAQ,IAAI,CAAC,CAAC;gBACzB,MAAM,GAAG,CAAC,OAAO,MAAM,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAEhE,IAAI,IAAI,GAAG,KAAK,CAAC,cAAc,EAAE,GAAG,QAAQ,GAAG,MAAM,GAAG,CAAC,CAAC;gBAE1D,IAAI,GAAG,GAAG,EAAE,CAAC;gBACb,GAAG,IAAI,MAAM,CAAC;gBACd,GAAG,IAAI,aAAa,CAAC;gBACrB,GAAG,IAAI,KAAK,CAAC,aAAa,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;gBAC7C,GAAG,IAAI,GAAG,CAAC;gBACX,GAAG,IAAI,eAAe,CAAC;gBACvB,GAAG,IAAI,IAAI,CAAC;gBACZ,GAAG,IAAI,GAAG,CAAC;gBACX,GAAG,IAAI,gBAAgB,CAAC;gBACxB,GAAG,IAAI,IAAI,CAAC;gBACZ,GAAG,IAAI,GAAG,CAAC;gBACX,IAAI,GAAG,EAAE;oBACR,GAAG,IAAI,aAAa,CAAC;oBACrB,GAAG,IAAI,SAAS,CAAC,GAAG,CAAC,CAAC;oBACtB,GAAG,IAAI,GAAG,CAAC;iBACX;gBACD,GAAG,IAAI,IAAI,CAAC;gBAEZ,OAAO,GAAG,CAAC;YACZ,CAAC,CAAC;YAEF,IAAI,SAAS,GAAG,UAAU,CAAC;gBAC1B,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;oBACrC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBACpB,QAAQ,CAAC,EAAE;wBACV,KAAK,GAAG;4BAAE,OAAO,IAAI,MAAM,CAAC;4BAAC,MAAM;wBACnC,KAAK,GAAG;4BAAE,OAAO,IAAI,MAAM,CAAC;4BAAC,MAAM;wBACnC,KAAK,GAAG;4BAAE,OAAO,IAAI,OAAO,CAAC;4BAAC,MAAM;wBACpC,KAAK,GAAG;4BAAE,OAAO,IAAI,QAAQ,CAAC;4BAAC,MAAM;wBACrC;4BAAS,OAAO,IAAI,CAAC,CAAC;4BAAC,MAAM;qBAC7B;iBACD;gBACD,OAAO,OAAO,CAAC;YAChB,CAAC,CAAC;YAEF,IAAI,gBAAgB,GAAG,UAAU,MAAM;gBACtC,IAAI,QAAQ,GAAG,CAAC,CAAC;gBACjB,MAAM,GAAG,CAAC,OAAO,MAAM,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAEhE,IAAI,IAAI,GAAG,KAAK,CAAC,cAAc,EAAE,GAAG,QAAQ,GAAG,MAAM,GAAG,CAAC,CAAC;gBAC1D,IAAI,GAAG,GAAG,MAAM,CAAC;gBACjB,IAAI,GAAG,GAAG,IAAI,GAAG,MAAM,CAAC;gBAExB,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;gBAEpB,IAAI,MAAM,GAAG;oBACZ,IAAI,EAAE,GAAG;oBACT,IAAI,EAAE,GAAG;oBACT,IAAI,EAAE,GAAG;oBACT,IAAI,EAAE,GAAG;iBACT,CAAC;gBAEF,IAAI,sBAAsB,GAAG;oBAC5B,IAAI,EAAE,GAAG;oBACT,IAAI,EAAE,GAAG;oBACT,IAAI,EAAE,GAAG;oBACT,IAAI,EAAE,GAAG;iBACT,CAAC;gBAEF,IAAI,KAAK,GAAG,EAAE,CAAC;gBACf,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE;oBAC7B,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC;oBACtC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC;oBAC1C,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE;wBAC7B,CAAC,GAAG,GAAG,CAAC;wBAER,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAE;4BACrG,CAAC,GAAG,GAAG,CAAC;yBACR;wBAED,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAE;4BAC7G,CAAC,IAAI,GAAG,CAAC;yBACT;6BACI;4BACJ,CAAC,IAAI,GAAG,CAAC;yBACT;wBAED,gHAAgH;wBAChH,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;qBAC9E;oBAED,KAAK,IAAI,IAAI,CAAC;iBACd;gBAED,IAAI,IAAI,GAAG,CAAC,IAAI,MAAM,GAAG,CAAC,EAAE;oBAC3B,OAAO,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,IAAI,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBAC/E;gBAED,OAAO,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC7C,CAAC,CAAC;YAEF,KAAK,CAAC,WAAW,GAAG,UAAU,QAAQ,EAAE,MAAM;gBAC7C,QAAQ,GAAG,QAAQ,IAAI,CAAC,CAAC;gBAEzB,IAAI,QAAQ,GAAG,CAAC,EAAE;oBACjB,OAAO,gBAAgB,CAAC,MAAM,CAAC,CAAC;iBAChC;gBAED,QAAQ,IAAI,CAAC,CAAC;gBACd,MAAM,GAAG,CAAC,OAAO,MAAM,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAEhE,IAAI,IAAI,GAAG,KAAK,CAAC,cAAc,EAAE,GAAG,QAAQ,GAAG,MAAM,GAAG,CAAC,CAAC;gBAC1D,IAAI,GAAG,GAAG,MAAM,CAAC;gBACjB,IAAI,GAAG,GAAG,IAAI,GAAG,MAAM,CAAC;gBAExB,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBAEf,IAAI,KAAK,GAAG,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC3C,IAAI,KAAK,GAAG,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAE3C,IAAI,KAAK,GAAG,EAAE,CAAC;gBACf,IAAI,IAAI,GAAG,EAAE,CAAC;gBACd,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE;oBAC7B,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC;oBACrC,IAAI,GAAG,EAAE,CAAC;oBACV,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE;wBAC7B,CAAC,GAAG,CAAC,CAAC;wBAEN,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAE;4BACpG,CAAC,GAAG,CAAC,CAAC;yBACN;wBAED,gHAAgH;wBAChH,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;qBAC1B;oBAED,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,IAAI,CAAC,EAAE;wBACjC,KAAK,IAAI,IAAI,GAAG,IAAI,CAAC;qBACrB;iBACD;gBAED,OAAO,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC7C,CAAC,CAAC;YAEF,KAAK,CAAC,iBAAiB,GAAG,UAAU,OAAO,EAAE,QAAQ;gBACpD,QAAQ,GAAG,QAAQ,IAAI,CAAC,CAAC;gBACzB,IAAI,MAAM,GAAG,KAAK,CAAC,cAAc,EAAE,CAAC;gBACpC,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,EAAE,EAAE;oBACtC,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,EAAE,EAAE;wBACtC,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC;wBAC/D,OAAO,CAAC,QAAQ,CAAC,GAAG,GAAG,QAAQ,EAAE,GAAG,GAAG,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;qBACrE;iBACD;YACF,CAAC,CAAA;YAED,OAAO,KAAK,CAAC;QACd,CAAC,CAAC;QAEF,uEAAuE;QACvE,uBAAuB;QACvB,uEAAuE;QAEvE,MAAM,CAAC,kBAAkB,GAAG;YAC3B,SAAS,EAAE,UAAU,CAAC;gBACrB,IAAI,KAAK,GAAG,EAAE,CAAC;gBACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;oBACrC,IAAI,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACxB,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;iBACrB;gBACD,OAAO,KAAK,CAAC;YACd,CAAC;SACD,CAAC;QAEF,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;QAE5D,uEAAuE;QACvE,6BAA6B;QAC7B,uEAAuE;QAEvE;;;;WAIG;QACH,MAAM,CAAC,mBAAmB,GAAG,UAAU,WAAW,EAAE,QAAQ;YAE3D,yBAAyB;YAEzB,IAAI,UAAU,GAAG;gBAEhB,IAAI,GAAG,GAAG,uBAAuB,CAAC,WAAW,CAAC,CAAC;gBAC/C,IAAI,IAAI,GAAG;oBACV,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;oBACnB,IAAI,CAAC,IAAI,CAAC,CAAC;wBAAE,MAAM,KAAK,CAAC;oBACzB,OAAO,CAAC,CAAC;gBACV,CAAC,CAAC;gBAEF,IAAI,KAAK,GAAG,CAAC,CAAC;gBACd,IAAI,UAAU,GAAG,EAAE,CAAC;gBACpB,OAAO,IAAI,EAAE;oBACZ,IAAI,EAAE,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;oBACpB,IAAI,EAAE,IAAI,CAAC,CAAC;wBAAE,MAAM;oBACpB,IAAI,EAAE,GAAG,IAAI,EAAE,CAAC;oBAChB,IAAI,EAAE,GAAG,IAAI,EAAE,CAAC;oBAChB,IAAI,EAAE,GAAG,IAAI,EAAE,CAAC;oBAChB,IAAI,CAAC,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;oBAC5C,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;oBACvB,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;oBAClB,KAAK,IAAI,CAAC,CAAC;iBACX;gBACD,IAAI,KAAK,IAAI,QAAQ,EAAE;oBACtB,MAAM,KAAK,GAAG,MAAM,GAAG,QAAQ,CAAC;iBAChC;gBAED,OAAO,UAAU,CAAC;YACnB,CAAC,EAAE,CAAC;YAEJ,IAAI,WAAW,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAEpC,OAAO,UAAU,CAAC;gBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;gBACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;oBACrC,IAAI,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACxB,IAAI,CAAC,GAAG,GAAG,EAAE;wBACZ,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;qBACd;yBAAM;wBACN,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBAChC,IAAI,OAAO,CAAC,IAAI,QAAQ,EAAE;4BACzB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE;gCACpB,QAAQ;gCACR,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;6BACd;iCAAM;gCACN,SAAS;gCACT,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gCACpB,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;6BACrB;yBACD;6BAAM;4BACN,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;yBACxB;qBACD;iBACD;gBACD,OAAO,KAAK,CAAC;YACd,CAAC,CAAC;QACH,CAAC,CAAC;QAEF,uEAAuE;QACvE,SAAS;QACT,uEAAuE;QAEvE,IAAI,MAAM,GAAG;YACZ,WAAW,EAAE,CAAC,IAAI,CAAC;YACnB,cAAc,EAAE,CAAC,IAAI,CAAC;YACtB,cAAc,EAAE,CAAC,IAAI,CAAC;YACtB,UAAU,EAAE,CAAC,IAAI,CAAC;SAClB,CAAC;QAEF,uEAAuE;QACvE,yBAAyB;QACzB,uEAAuE;QAEvE,IAAI,sBAAsB,GAAG;YAC5B,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;SACJ,CAAC;QAEF,uEAAuE;QACvE,gBAAgB;QAChB,uEAAuE;QAEvE,IAAI,aAAa,GAAG;YACnB,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;SACb,CAAC;QAEF,uEAAuE;QACvE,SAAS;QACT,uEAAuE;QAEvE,IAAI,MAAM,GAAG;YAEZ,IAAI,sBAAsB,GAAG;gBAC5B,EAAE;gBACF,CAAC,CAAC,EAAE,EAAE,CAAC;gBACP,CAAC,CAAC,EAAE,EAAE,CAAC;gBACP,CAAC,CAAC,EAAE,EAAE,CAAC;gBACP,CAAC,CAAC,EAAE,EAAE,CAAC;gBACP,CAAC,CAAC,EAAE,EAAE,CAAC;gBACP,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;gBACX,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;gBACX,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;gBACX,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;gBACX,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;gBACX,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;gBACX,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;gBACX,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBACf,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBACf,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBACf,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBACf,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBACf,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBACf,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBACf,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBACnB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBACnB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;gBACpB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;gBACpB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;gBACpB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;gBACpB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;gBACpB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;gBACxB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;gBACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;gBACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;gBACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;gBACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;gBACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;gBACzB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;gBAC9B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;gBAC9B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;gBAC9B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;gBAC9B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;gBAC9B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG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","sourcesContent":["(function (factory) {\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine([], factory);\r\n\t} else if (typeof exports === 'object') {\r\n\t\tmodule.exports = factory();\r\n\t} else {\r\n\t\twindow.qrcode = factory();\r\n\t}\r\n}(function () {\r\n\tvar qrcode = function () {\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// qrcode\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\t/**\r\n\t\t * qrcode\r\n\t\t * @param typeNumber 1 to 40\r\n\t\t * @param errorCorrectionLevel 'L','M','Q','H'\r\n\t\t */\r\n\t\tvar qrcode = function (typeNumber, errorCorrectionLevel) {\r\n\r\n\t\t\tvar PAD0 = 0xEC;\r\n\t\t\tvar PAD1 = 0x11;\r\n\r\n\t\t\tvar _typeNumber = typeNumber;\r\n\t\t\tvar _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\r\n\t\t\tvar _modules = null;\r\n\t\t\tvar _moduleCount = 0;\r\n\t\t\tvar _dataCache = null;\r\n\t\t\tvar _dataList = [];\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\tvar makeImpl = function (test, maskPattern) {\r\n\r\n\t\t\t\t_moduleCount = _typeNumber * 4 + 17;\r\n\t\t\t\t_modules = function (moduleCount) {\r\n\t\t\t\t\tvar modules = new Array(moduleCount);\r\n\t\t\t\t\tfor (var row = 0; row < moduleCount; row += 1) {\r\n\t\t\t\t\t\tmodules[row] = new Array(moduleCount);\r\n\t\t\t\t\t\tfor (var col = 0; col < moduleCount; col += 1) {\r\n\t\t\t\t\t\t\tmodules[row][col] = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn modules;\r\n\t\t\t\t}(_moduleCount);\r\n\r\n\t\t\t\tsetupPositionProbePattern(0, 0);\r\n\t\t\t\tsetupPositionProbePattern(_moduleCount - 7, 0);\r\n\t\t\t\tsetupPositionProbePattern(0, _moduleCount - 7);\r\n\t\t\t\tsetupPositionAdjustPattern();\r\n\t\t\t\tsetupTimingPattern();\r\n\t\t\t\tsetupTypeInfo(test, maskPattern);\r\n\r\n\t\t\t\tif (_typeNumber >= 7) {\r\n\t\t\t\t\tsetupTypeNumber(test);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_dataCache == null) {\r\n\t\t\t\t\t_dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmapData(_dataCache, maskPattern);\r\n\t\t\t};\r\n\r\n\t\t\tvar setupPositionProbePattern = function (row, col) {\r\n\r\n\t\t\t\tfor (var r = -1; r <= 7; r += 1) {\r\n\r\n\t\t\t\t\tif (row + r <= -1 || _moduleCount <= row + r) continue;\r\n\r\n\t\t\t\t\tfor (var c = -1; c <= 7; c += 1) {\r\n\r\n\t\t\t\t\t\tif (col + c <= -1 || _moduleCount <= col + c) continue;\r\n\r\n\t\t\t\t\t\tif ((0 <= r && r <= 6 && (c == 0 || c == 6))\r\n\t\t\t\t\t\t\t|| (0 <= c && c <= 6 && (r == 0 || r == 6))\r\n\t\t\t\t\t\t\t|| (2 <= r && r <= 4 && 2 <= c && c <= 4)) {\r\n\t\t\t\t\t\t\t_modules[row + r][col + c] = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_modules[row + r][col + c] = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar getBestMaskPattern = function () {\r\n\r\n\t\t\t\tvar minLostPoint = 0;\r\n\t\t\t\tvar pattern = 0;\r\n\r\n\t\t\t\tfor (var i = 0; i < 8; i += 1) {\r\n\r\n\t\t\t\t\tmakeImpl(true, i);\r\n\r\n\t\t\t\t\tvar lostPoint = QRUtil.getLostPoint(_this);\r\n\r\n\t\t\t\t\tif (i == 0 || minLostPoint > lostPoint) {\r\n\t\t\t\t\t\tminLostPoint = lostPoint;\r\n\t\t\t\t\t\tpattern = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn pattern;\r\n\t\t\t};\r\n\r\n\t\t\tvar setupTimingPattern = function () {\r\n\r\n\t\t\t\tfor (var r = 8; r < _moduleCount - 8; r += 1) {\r\n\t\t\t\t\tif (_modules[r][6] != null) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_modules[r][6] = (r % 2 == 0);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var c = 8; c < _moduleCount - 8; c += 1) {\r\n\t\t\t\t\tif (_modules[6][c] != null) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_modules[6][c] = (c % 2 == 0);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar setupPositionAdjustPattern = function () {\r\n\r\n\t\t\t\tvar pos = QRUtil.getPatternPosition(_typeNumber);\r\n\r\n\t\t\t\tfor (var i = 0; i < pos.length; i += 1) {\r\n\r\n\t\t\t\t\tfor (var j = 0; j < pos.length; j += 1) {\r\n\r\n\t\t\t\t\t\tvar row = pos[i];\r\n\t\t\t\t\t\tvar col = pos[j];\r\n\r\n\t\t\t\t\t\tif (_modules[row][col] != null) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfor (var r = -2; r <= 2; r += 1) {\r\n\r\n\t\t\t\t\t\t\tfor (var c = -2; c <= 2; c += 1) {\r\n\r\n\t\t\t\t\t\t\t\tif (r == -2 || r == 2 || c == -2 || c == 2\r\n\t\t\t\t\t\t\t\t\t|| (r == 0 && c == 0)) {\r\n\t\t\t\t\t\t\t\t\t_modules[row + r][col + c] = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t_modules[row + r][col + c] = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar setupTypeNumber = function (test) {\r\n\r\n\t\t\t\tvar bits = QRUtil.getBCHTypeNumber(_typeNumber);\r\n\r\n\t\t\t\tfor (var i = 0; i < 18; i += 1) {\r\n\t\t\t\t\tvar mod = (!test && ((bits >> i) & 1) == 1);\r\n\t\t\t\t\t_modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var i = 0; i < 18; i += 1) {\r\n\t\t\t\t\tvar mod = (!test && ((bits >> i) & 1) == 1);\r\n\t\t\t\t\t_modules[i % 3 + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar setupTypeInfo = function (test, maskPattern) {\r\n\r\n\t\t\t\tvar data = (_errorCorrectionLevel << 3) | maskPattern;\r\n\t\t\t\tvar bits = QRUtil.getBCHTypeInfo(data);\r\n\r\n\t\t\t\t// vertical\r\n\t\t\t\tfor (var i = 0; i < 15; i += 1) {\r\n\r\n\t\t\t\t\tvar mod = (!test && ((bits >> i) & 1) == 1);\r\n\r\n\t\t\t\t\tif (i < 6) {\r\n\t\t\t\t\t\t_modules[i][8] = mod;\r\n\t\t\t\t\t} else if (i < 8) {\r\n\t\t\t\t\t\t_modules[i + 1][8] = mod;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_modules[_moduleCount - 15 + i][8] = mod;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// horizontal\r\n\t\t\t\tfor (var i = 0; i < 15; i += 1) {\r\n\r\n\t\t\t\t\tvar mod = (!test && ((bits >> i) & 1) == 1);\r\n\r\n\t\t\t\t\tif (i < 8) {\r\n\t\t\t\t\t\t_modules[8][_moduleCount - i - 1] = mod;\r\n\t\t\t\t\t} else if (i < 9) {\r\n\t\t\t\t\t\t_modules[8][15 - i - 1 + 1] = mod;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_modules[8][15 - i - 1] = mod;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// fixed module\r\n\t\t\t\t_modules[_moduleCount - 8][8] = (!test);\r\n\t\t\t};\r\n\r\n\t\t\tvar mapData = function (data, maskPattern) {\r\n\r\n\t\t\t\tvar inc = -1;\r\n\t\t\t\tvar row = _moduleCount - 1;\r\n\t\t\t\tvar bitIndex = 7;\r\n\t\t\t\tvar byteIndex = 0;\r\n\t\t\t\tvar maskFunc = QRUtil.getMaskFunction(maskPattern);\r\n\r\n\t\t\t\tfor (var col = _moduleCount - 1; col > 0; col -= 2) {\r\n\r\n\t\t\t\t\tif (col == 6) col -= 1;\r\n\r\n\t\t\t\t\twhile (true) {\r\n\r\n\t\t\t\t\t\tfor (var c = 0; c < 2; c += 1) {\r\n\r\n\t\t\t\t\t\t\tif (_modules[row][col - c] == null) {\r\n\r\n\t\t\t\t\t\t\t\tvar dark = false;\r\n\r\n\t\t\t\t\t\t\t\tif (byteIndex < data.length) {\r\n\t\t\t\t\t\t\t\t\tdark = (((data[byteIndex] >>> bitIndex) & 1) == 1);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar mask = maskFunc(row, col - c);\r\n\r\n\t\t\t\t\t\t\t\tif (mask) {\r\n\t\t\t\t\t\t\t\t\tdark = !dark;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t_modules[row][col - c] = dark;\r\n\t\t\t\t\t\t\t\tbitIndex -= 1;\r\n\r\n\t\t\t\t\t\t\t\tif (bitIndex == -1) {\r\n\t\t\t\t\t\t\t\t\tbyteIndex += 1;\r\n\t\t\t\t\t\t\t\t\tbitIndex = 7;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trow += inc;\r\n\r\n\t\t\t\t\t\tif (row < 0 || _moduleCount <= row) {\r\n\t\t\t\t\t\t\trow -= inc;\r\n\t\t\t\t\t\t\tinc = -inc;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar createBytes = function (buffer, rsBlocks) {\r\n\r\n\t\t\t\tvar offset = 0;\r\n\r\n\t\t\t\tvar maxDcCount = 0;\r\n\t\t\t\tvar maxEcCount = 0;\r\n\r\n\t\t\t\tvar dcdata = new Array(rsBlocks.length);\r\n\t\t\t\tvar ecdata = new Array(rsBlocks.length);\r\n\r\n\t\t\t\tfor (var r = 0; r < rsBlocks.length; r += 1) {\r\n\r\n\t\t\t\t\tvar dcCount = rsBlocks[r].dataCount;\r\n\t\t\t\t\tvar ecCount = rsBlocks[r].totalCount - dcCount;\r\n\r\n\t\t\t\t\tmaxDcCount = Math.max(maxDcCount, dcCount);\r\n\t\t\t\t\tmaxEcCount = Math.max(maxEcCount, ecCount);\r\n\r\n\t\t\t\t\tdcdata[r] = new Array(dcCount);\r\n\r\n\t\t\t\t\tfor (var i = 0; i < dcdata[r].length; i += 1) {\r\n\t\t\t\t\t\tdcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\r\n\t\t\t\t\t}\r\n\t\t\t\t\toffset += dcCount;\r\n\r\n\t\t\t\t\tvar rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\r\n\t\t\t\t\tvar rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\r\n\r\n\t\t\t\t\tvar modPoly = rawPoly.mod(rsPoly);\r\n\t\t\t\t\tecdata[r] = new Array(rsPoly.getLength() - 1);\r\n\t\t\t\t\tfor (var i = 0; i < ecdata[r].length; i += 1) {\r\n\t\t\t\t\t\tvar modIndex = i + modPoly.getLength() - ecdata[r].length;\r\n\t\t\t\t\t\tecdata[r][i] = (modIndex >= 0) ? modPoly.getAt(modIndex) : 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar totalCodeCount = 0;\r\n\t\t\t\tfor (var i = 0; i < rsBlocks.length; i += 1) {\r\n\t\t\t\t\ttotalCodeCount += rsBlocks[i].totalCount;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar data = new Array(totalCodeCount);\r\n\t\t\t\tvar index = 0;\r\n\r\n\t\t\t\tfor (var i = 0; i < maxDcCount; i += 1) {\r\n\t\t\t\t\tfor (var r = 0; r < rsBlocks.length; r += 1) {\r\n\t\t\t\t\t\tif (i < dcdata[r].length) {\r\n\t\t\t\t\t\t\tdata[index] = dcdata[r][i];\r\n\t\t\t\t\t\t\tindex += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var i = 0; i < maxEcCount; i += 1) {\r\n\t\t\t\t\tfor (var r = 0; r < rsBlocks.length; r += 1) {\r\n\t\t\t\t\t\tif (i < ecdata[r].length) {\r\n\t\t\t\t\t\t\tdata[index] = ecdata[r][i];\r\n\t\t\t\t\t\t\tindex += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\t\t\t};\r\n\r\n\t\t\tvar createData = function (typeNumber, errorCorrectionLevel, dataList) {\r\n\r\n\t\t\t\tvar rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\r\n\r\n\t\t\t\tvar buffer = qrBitBuffer();\r\n\r\n\t\t\t\tfor (var i = 0; i < dataList.length; i += 1) {\r\n\t\t\t\t\tvar data = dataList[i];\r\n\t\t\t\t\tbuffer.put(data.getMode(), 4);\r\n\t\t\t\t\tbuffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber));\r\n\t\t\t\t\tdata.write(buffer);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// calc num max data.\r\n\t\t\t\tvar totalDataCount = 0;\r\n\t\t\t\tfor (var i = 0; i < rsBlocks.length; i += 1) {\r\n\t\t\t\t\ttotalDataCount += rsBlocks[i].dataCount;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (buffer.getLengthInBits() > totalDataCount * 8) {\r\n\t\t\t\t\tthrow 'code length overflow. ('\r\n\t\t\t\t\t+ buffer.getLengthInBits()\r\n\t\t\t\t\t+ '>'\r\n\t\t\t\t\t+ totalDataCount * 8\r\n\t\t\t\t\t+ ')';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// end code\r\n\t\t\t\tif (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\r\n\t\t\t\t\tbuffer.put(0, 4);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// padding\r\n\t\t\t\twhile (buffer.getLengthInBits() % 8 != 0) {\r\n\t\t\t\t\tbuffer.putBit(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// padding\r\n\t\t\t\twhile (true) {\r\n\r\n\t\t\t\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbuffer.put(PAD0, 8);\r\n\r\n\t\t\t\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbuffer.put(PAD1, 8);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn createBytes(buffer, rsBlocks);\r\n\t\t\t};\r\n\r\n\t\t\t_this.addData = function (data, mode) {\r\n\r\n\t\t\t\tmode = mode || 'Byte';\r\n\r\n\t\t\t\tvar newData = null;\r\n\r\n\t\t\t\tswitch (mode) {\r\n\t\t\t\t\tcase 'Numeric':\r\n\t\t\t\t\t\tnewData = qrNumber(data);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Alphanumeric':\r\n\t\t\t\t\t\tnewData = qrAlphaNum(data);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Byte':\r\n\t\t\t\t\t\tnewData = qr8BitByte(data);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Kanji':\r\n\t\t\t\t\t\tnewData = qrKanji(data);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthrow 'mode:' + mode;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_dataList.push(newData);\r\n\t\t\t\t_dataCache = null;\r\n\t\t\t};\r\n\r\n\t\t\t_this.isDark = function (row, col) {\r\n\t\t\t\tif (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\r\n\t\t\t\t\tthrow row + ',' + col;\r\n\t\t\t\t}\r\n\t\t\t\treturn _modules[row][col];\r\n\t\t\t};\r\n\r\n\t\t\t_this.getModuleCount = function () {\r\n\t\t\t\treturn _moduleCount;\r\n\t\t\t};\r\n\r\n\t\t\t_this.make = function () {\r\n\t\t\t\tif (_typeNumber < 1) {\r\n\t\t\t\t\tvar typeNumber = 1;\r\n\r\n\t\t\t\t\tfor (; typeNumber < 40; typeNumber++) {\r\n\t\t\t\t\t\tvar rsBlocks = QRRSBlock.getRSBlocks(typeNumber, _errorCorrectionLevel);\r\n\t\t\t\t\t\tvar buffer = qrBitBuffer();\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < _dataList.length; i++) {\r\n\t\t\t\t\t\t\tvar data = _dataList[i];\r\n\t\t\t\t\t\t\tbuffer.put(data.getMode(), 4);\r\n\t\t\t\t\t\t\tbuffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber));\r\n\t\t\t\t\t\t\tdata.write(buffer);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar totalDataCount = 0;\r\n\t\t\t\t\t\tfor (var i = 0; i < rsBlocks.length; i++) {\r\n\t\t\t\t\t\t\ttotalDataCount += rsBlocks[i].dataCount;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (buffer.getLengthInBits() <= totalDataCount * 8) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_typeNumber = typeNumber;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmakeImpl(false, getBestMaskPattern());\r\n\t\t\t};\r\n\r\n\t\t\t_this.createTableTag = function (cellSize, margin) {\r\n\r\n\t\t\t\tcellSize = cellSize || 2;\r\n\t\t\t\tmargin = (typeof margin == 'undefined') ? cellSize * 4 : margin;\r\n\r\n\t\t\t\tvar qrHtml = '';\r\n\r\n\t\t\t\tqrHtml += '<table style=\"';\r\n\t\t\t\tqrHtml += ' border-width: 0px; border-style: none;';\r\n\t\t\t\tqrHtml += ' border-collapse: collapse;';\r\n\t\t\t\tqrHtml += ' padding: 0px; margin: ' + margin + 'px;';\r\n\t\t\t\tqrHtml += '\">';\r\n\t\t\t\tqrHtml += '<tbody>';\r\n\r\n\t\t\t\tfor (var r = 0; r < _this.getModuleCount(); r += 1) {\r\n\r\n\t\t\t\t\tqrHtml += '<tr>';\r\n\r\n\t\t\t\t\tfor (var c = 0; c < _this.getModuleCount(); c += 1) {\r\n\t\t\t\t\t\tqrHtml += '<td style=\"';\r\n\t\t\t\t\t\tqrHtml += ' border-width: 0px; border-style: none;';\r\n\t\t\t\t\t\tqrHtml += ' border-collapse: collapse;';\r\n\t\t\t\t\t\tqrHtml += ' padding: 0px; margin: 0px;';\r\n\t\t\t\t\t\tqrHtml += ' width: ' + cellSize + 'px;';\r\n\t\t\t\t\t\tqrHtml += ' height: ' + cellSize + 'px;';\r\n\t\t\t\t\t\tqrHtml += ' background-color: ';\r\n\t\t\t\t\t\tqrHtml += _this.isDark(r, c) ? '#000000' : '#ffffff';\r\n\t\t\t\t\t\tqrHtml += ';';\r\n\t\t\t\t\t\tqrHtml += '\"/>';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tqrHtml += '</tr>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tqrHtml += '</tbody>';\r\n\t\t\t\tqrHtml += '</table>';\r\n\r\n\t\t\t\treturn qrHtml;\r\n\t\t\t};\r\n\r\n\t\t\t_this.createSvgTag = function (cellSize, margin, alt, title) {\r\n\r\n\t\t\t\tvar opts = {};\r\n\t\t\t\tif (typeof arguments[0] == 'object') {\r\n\t\t\t\t\t// Called by options.\r\n\t\t\t\t\topts = arguments[0];\r\n\t\t\t\t\t// overwrite cellSize and margin.\r\n\t\t\t\t\tcellSize = opts.cellSize;\r\n\t\t\t\t\tmargin = opts.margin;\r\n\t\t\t\t\talt = opts.alt;\r\n\t\t\t\t\ttitle = opts.title;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcellSize = cellSize || 2;\r\n\t\t\t\tmargin = (typeof margin == 'undefined') ? cellSize * 4 : margin;\r\n\r\n\t\t\t\t// Compose alt property surrogate\r\n\t\t\t\talt = (typeof alt === 'string') ? { text: alt } : alt || {};\r\n\t\t\t\talt.text = alt.text || null;\r\n\t\t\t\talt.id = (alt.text) ? alt.id || 'qrcode-description' : null;\r\n\r\n\t\t\t\t// Compose title property surrogate\r\n\t\t\t\ttitle = (typeof title === 'string') ? { text: title } : title || {};\r\n\t\t\t\ttitle.text = title.text || null;\r\n\t\t\t\ttitle.id = (title.text) ? title.id || 'qrcode-title' : null;\r\n\r\n\t\t\t\tvar size = _this.getModuleCount() * cellSize + margin * 2;\r\n\t\t\t\tvar c, mc, r, mr, qrSvg = '', rect;\r\n\r\n\t\t\t\trect = 'l' + cellSize + ',0 0,' + cellSize +\r\n\t\t\t\t\t' -' + cellSize + ',0 0,-' + cellSize + 'z ';\r\n\r\n\t\t\t\tqrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\r\n\t\t\t\tqrSvg += !opts.scalable ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"' : '';\r\n\t\t\t\tqrSvg += ' viewBox=\"0 0 ' + size + ' ' + size + '\" ';\r\n\t\t\t\tqrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\r\n\t\t\t\tqrSvg += (title.text || alt.text) ? ' role=\"img\" aria-labelledby=\"' +\r\n\t\t\t\t\tescapeXml([title.id, alt.id].join(' ').trim()) + '\"' : '';\r\n\t\t\t\tqrSvg += '>';\r\n\t\t\t\tqrSvg += (title.text) ? '<title id=\"' + escapeXml(title.id) + '\">' +\r\n\t\t\t\t\tescapeXml(title.text) + '</title>' : '';\r\n\t\t\t\tqrSvg += (alt.text) ? '<description id=\"' + escapeXml(alt.id) + '\">' +\r\n\t\t\t\t\tescapeXml(alt.text) + '</description>' : '';\r\n\t\t\t\tqrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\r\n\t\t\t\tqrSvg += '<path d=\"';\r\n\r\n\t\t\t\tfor (r = 0; r < _this.getModuleCount(); r += 1) {\r\n\t\t\t\t\tmr = r * cellSize + margin;\r\n\t\t\t\t\tfor (c = 0; c < _this.getModuleCount(); c += 1) {\r\n\t\t\t\t\t\tif (_this.isDark(r, c)) {\r\n\t\t\t\t\t\t\tmc = c * cellSize + margin;\r\n\t\t\t\t\t\t\tqrSvg += 'M' + mc + ',' + mr + rect;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tqrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\r\n\t\t\t\tqrSvg += '</svg>';\r\n\r\n\t\t\t\treturn qrSvg;\r\n\t\t\t};\r\n\r\n\t\t\t_this.createDataURL = function (cellSize, margin) {\r\n\r\n\t\t\t\tcellSize = cellSize || 2;\r\n\t\t\t\tmargin = (typeof margin == 'undefined') ? cellSize * 4 : margin;\r\n\r\n\t\t\t\tvar size = _this.getModuleCount() * cellSize + margin * 2;\r\n\t\t\t\tvar min = margin;\r\n\t\t\t\tvar max = size - margin;\r\n\r\n\t\t\t\treturn createDataURL(size, size, function (x, y) {\r\n\t\t\t\t\tif (min <= x && x < max && min <= y && y < max) {\r\n\t\t\t\t\t\tvar c = Math.floor((x - min) / cellSize);\r\n\t\t\t\t\t\tvar r = Math.floor((y - min) / cellSize);\r\n\t\t\t\t\t\treturn _this.isDark(r, c) ? 0 : 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t_this.createImgTag = function (cellSize, margin, alt) {\r\n\r\n\t\t\t\tcellSize = cellSize || 2;\r\n\t\t\t\tmargin = (typeof margin == 'undefined') ? cellSize * 4 : margin;\r\n\r\n\t\t\t\tvar size = _this.getModuleCount() * cellSize + margin * 2;\r\n\r\n\t\t\t\tvar img = '';\r\n\t\t\t\timg += '<img';\r\n\t\t\t\timg += '\\u0020src=\"';\r\n\t\t\t\timg += _this.createDataURL(cellSize, margin);\r\n\t\t\t\timg += '\"';\r\n\t\t\t\timg += '\\u0020width=\"';\r\n\t\t\t\timg += size;\r\n\t\t\t\timg += '\"';\r\n\t\t\t\timg += '\\u0020height=\"';\r\n\t\t\t\timg += size;\r\n\t\t\t\timg += '\"';\r\n\t\t\t\tif (alt) {\r\n\t\t\t\t\timg += '\\u0020alt=\"';\r\n\t\t\t\t\timg += escapeXml(alt);\r\n\t\t\t\t\timg += '\"';\r\n\t\t\t\t}\r\n\t\t\t\timg += '/>';\r\n\r\n\t\t\t\treturn img;\r\n\t\t\t};\r\n\r\n\t\t\tvar escapeXml = function (s) {\r\n\t\t\t\tvar escaped = '';\r\n\t\t\t\tfor (var i = 0; i < s.length; i += 1) {\r\n\t\t\t\t\tvar c = s.charAt(i);\r\n\t\t\t\t\tswitch (c) {\r\n\t\t\t\t\t\tcase '<': escaped += '&lt;'; break;\r\n\t\t\t\t\t\tcase '>': escaped += '&gt;'; break;\r\n\t\t\t\t\t\tcase '&': escaped += '&amp;'; break;\r\n\t\t\t\t\t\tcase '\"': escaped += '&quot;'; break;\r\n\t\t\t\t\t\tdefault: escaped += c; break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn escaped;\r\n\t\t\t};\r\n\r\n\t\t\tvar _createHalfASCII = function (margin) {\r\n\t\t\t\tvar cellSize = 1;\r\n\t\t\t\tmargin = (typeof margin == 'undefined') ? cellSize * 2 : margin;\r\n\r\n\t\t\t\tvar size = _this.getModuleCount() * cellSize + margin * 2;\r\n\t\t\t\tvar min = margin;\r\n\t\t\t\tvar max = size - margin;\r\n\r\n\t\t\t\tvar y, x, r1, r2, p;\r\n\r\n\t\t\t\tvar blocks = {\r\n\t\t\t\t\t'': '',\r\n\t\t\t\t\t' ': '',\r\n\t\t\t\t\t' ': '',\r\n\t\t\t\t\t'  ': ' '\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar blocksLastLineNoMargin = {\r\n\t\t\t\t\t'': '',\r\n\t\t\t\t\t' ': '',\r\n\t\t\t\t\t' ': ' ',\r\n\t\t\t\t\t'  ': ' '\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar ascii = '';\r\n\t\t\t\tfor (y = 0; y < size; y += 2) {\r\n\t\t\t\t\tr1 = Math.floor((y - min) / cellSize);\r\n\t\t\t\t\tr2 = Math.floor((y + 1 - min) / cellSize);\r\n\t\t\t\t\tfor (x = 0; x < size; x += 1) {\r\n\t\t\t\t\t\tp = '';\r\n\r\n\t\t\t\t\t\tif (min <= x && x < max && min <= y && y < max && _this.isDark(r1, Math.floor((x - min) / cellSize))) {\r\n\t\t\t\t\t\t\tp = ' ';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (min <= x && x < max && min <= y + 1 && y + 1 < max && _this.isDark(r2, Math.floor((x - min) / cellSize))) {\r\n\t\t\t\t\t\t\tp += ' ';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tp += '';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\r\n\t\t\t\t\t\tascii += (margin < 1 && y + 1 >= max) ? blocksLastLineNoMargin[p] : blocks[p];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tascii += '\\n';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (size % 2 && margin > 0) {\r\n\t\t\t\t\treturn ascii.substring(0, ascii.length - size - 1) + Array(size + 1).join('');\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ascii.substring(0, ascii.length - 1);\r\n\t\t\t};\r\n\r\n\t\t\t_this.createASCII = function (cellSize, margin) {\r\n\t\t\t\tcellSize = cellSize || 1;\r\n\r\n\t\t\t\tif (cellSize < 2) {\r\n\t\t\t\t\treturn _createHalfASCII(margin);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcellSize -= 1;\r\n\t\t\t\tmargin = (typeof margin == 'undefined') ? cellSize * 2 : margin;\r\n\r\n\t\t\t\tvar size = _this.getModuleCount() * cellSize + margin * 2;\r\n\t\t\t\tvar min = margin;\r\n\t\t\t\tvar max = size - margin;\r\n\r\n\t\t\t\tvar y, x, r, p;\r\n\r\n\t\t\t\tvar white = Array(cellSize + 1).join('');\r\n\t\t\t\tvar black = Array(cellSize + 1).join('  ');\r\n\r\n\t\t\t\tvar ascii = '';\r\n\t\t\t\tvar line = '';\r\n\t\t\t\tfor (y = 0; y < size; y += 1) {\r\n\t\t\t\t\tr = Math.floor((y - min) / cellSize);\r\n\t\t\t\t\tline = '';\r\n\t\t\t\t\tfor (x = 0; x < size; x += 1) {\r\n\t\t\t\t\t\tp = 1;\r\n\r\n\t\t\t\t\t\tif (min <= x && x < max && min <= y && y < max && _this.isDark(r, Math.floor((x - min) / cellSize))) {\r\n\t\t\t\t\t\t\tp = 0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\r\n\t\t\t\t\t\tline += p ? white : black;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (r = 0; r < cellSize; r += 1) {\r\n\t\t\t\t\t\tascii += line + '\\n';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ascii.substring(0, ascii.length - 1);\r\n\t\t\t};\r\n\r\n\t\t\t_this.renderTo2dContext = function (context, cellSize) {\r\n\t\t\t\tcellSize = cellSize || 2;\r\n\t\t\t\tvar length = _this.getModuleCount();\r\n\t\t\t\tfor (var row = 0; row < length; row++) {\r\n\t\t\t\t\tfor (var col = 0; col < length; col++) {\r\n\t\t\t\t\t\tcontext.fillStyle = _this.isDark(row, col) ? 'black' : 'white';\r\n\t\t\t\t\t\tcontext.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// qrcode.stringToBytes\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tqrcode.stringToBytesFuncs = {\r\n\t\t\t'default': function (s) {\r\n\t\t\t\tvar bytes = [];\r\n\t\t\t\tfor (var i = 0; i < s.length; i += 1) {\r\n\t\t\t\t\tvar c = s.charCodeAt(i);\r\n\t\t\t\t\tbytes.push(c & 0xff);\r\n\t\t\t\t}\r\n\t\t\t\treturn bytes;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tqrcode.stringToBytes = qrcode.stringToBytesFuncs['default'];\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// qrcode.createStringToBytes\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\t/**\r\n\t\t * @param unicodeData base64 string of byte array.\r\n\t\t * [16bit Unicode],[16bit Bytes], ...\r\n\t\t * @param numChars\r\n\t\t */\r\n\t\tqrcode.createStringToBytes = function (unicodeData, numChars) {\r\n\r\n\t\t\t// create conversion map.\r\n\r\n\t\t\tvar unicodeMap = function () {\r\n\r\n\t\t\t\tvar bin = base64DecodeInputStream(unicodeData);\r\n\t\t\t\tvar read = function () {\r\n\t\t\t\t\tvar b = bin.read();\r\n\t\t\t\t\tif (b == -1) throw 'eof';\r\n\t\t\t\t\treturn b;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar count = 0;\r\n\t\t\t\tvar unicodeMap = {};\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tvar b0 = bin.read();\r\n\t\t\t\t\tif (b0 == -1) break;\r\n\t\t\t\t\tvar b1 = read();\r\n\t\t\t\t\tvar b2 = read();\r\n\t\t\t\t\tvar b3 = read();\r\n\t\t\t\t\tvar k = String.fromCharCode((b0 << 8) | b1);\r\n\t\t\t\t\tvar v = (b2 << 8) | b3;\r\n\t\t\t\t\tunicodeMap[k] = v;\r\n\t\t\t\t\tcount += 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (count != numChars) {\r\n\t\t\t\t\tthrow count + ' != ' + numChars;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn unicodeMap;\r\n\t\t\t}();\r\n\r\n\t\t\tvar unknownChar = '?'.charCodeAt(0);\r\n\r\n\t\t\treturn function (s) {\r\n\t\t\t\tvar bytes = [];\r\n\t\t\t\tfor (var i = 0; i < s.length; i += 1) {\r\n\t\t\t\t\tvar c = s.charCodeAt(i);\r\n\t\t\t\t\tif (c < 128) {\r\n\t\t\t\t\t\tbytes.push(c);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar b = unicodeMap[s.charAt(i)];\r\n\t\t\t\t\t\tif (typeof b == 'number') {\r\n\t\t\t\t\t\t\tif ((b & 0xff) == b) {\r\n\t\t\t\t\t\t\t\t// 1byte\r\n\t\t\t\t\t\t\t\tbytes.push(b);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// 2bytes\r\n\t\t\t\t\t\t\t\tbytes.push(b >>> 8);\r\n\t\t\t\t\t\t\t\tbytes.push(b & 0xff);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbytes.push(unknownChar);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn bytes;\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// QRMode\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar QRMode = {\r\n\t\t\tMODE_NUMBER: 1 << 0,\r\n\t\t\tMODE_ALPHA_NUM: 1 << 1,\r\n\t\t\tMODE_8BIT_BYTE: 1 << 2,\r\n\t\t\tMODE_KANJI: 1 << 3\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// QRErrorCorrectionLevel\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar QRErrorCorrectionLevel = {\r\n\t\t\tL: 1,\r\n\t\t\tM: 0,\r\n\t\t\tQ: 3,\r\n\t\t\tH: 2\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// QRMaskPattern\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar QRMaskPattern = {\r\n\t\t\tPATTERN000: 0,\r\n\t\t\tPATTERN001: 1,\r\n\t\t\tPATTERN010: 2,\r\n\t\t\tPATTERN011: 3,\r\n\t\t\tPATTERN100: 4,\r\n\t\t\tPATTERN101: 5,\r\n\t\t\tPATTERN110: 6,\r\n\t\t\tPATTERN111: 7\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// QRUtil\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar QRUtil = function () {\r\n\r\n\t\t\tvar PATTERN_POSITION_TABLE = [\r\n\t\t\t\t[],\r\n\t\t\t\t[6, 18],\r\n\t\t\t\t[6, 22],\r\n\t\t\t\t[6, 26],\r\n\t\t\t\t[6, 30],\r\n\t\t\t\t[6, 34],\r\n\t\t\t\t[6, 22, 38],\r\n\t\t\t\t[6, 24, 42],\r\n\t\t\t\t[6, 26, 46],\r\n\t\t\t\t[6, 28, 50],\r\n\t\t\t\t[6, 30, 54],\r\n\t\t\t\t[6, 32, 58],\r\n\t\t\t\t[6, 34, 62],\r\n\t\t\t\t[6, 26, 46, 66],\r\n\t\t\t\t[6, 26, 48, 70],\r\n\t\t\t\t[6, 26, 50, 74],\r\n\t\t\t\t[6, 30, 54, 78],\r\n\t\t\t\t[6, 30, 56, 82],\r\n\t\t\t\t[6, 30, 58, 86],\r\n\t\t\t\t[6, 34, 62, 90],\r\n\t\t\t\t[6, 28, 50, 72, 94],\r\n\t\t\t\t[6, 26, 50, 74, 98],\r\n\t\t\t\t[6, 30, 54, 78, 102],\r\n\t\t\t\t[6, 28, 54, 80, 106],\r\n\t\t\t\t[6, 32, 58, 84, 110],\r\n\t\t\t\t[6, 30, 58, 86, 114],\r\n\t\t\t\t[6, 34, 62, 90, 118],\r\n\t\t\t\t[6, 26, 50, 74, 98, 122],\r\n\t\t\t\t[6, 30, 54, 78, 102, 126],\r\n\t\t\t\t[6, 26, 52, 78, 104, 130],\r\n\t\t\t\t[6, 30, 56, 82, 108, 134],\r\n\t\t\t\t[6, 34, 60, 86, 112, 138],\r\n\t\t\t\t[6, 30, 58, 86, 114, 142],\r\n\t\t\t\t[6, 34, 62, 90, 118, 146],\r\n\t\t\t\t[6, 30, 54, 78, 102, 126, 150],\r\n\t\t\t\t[6, 24, 50, 76, 102, 128, 154],\r\n\t\t\t\t[6, 28, 54, 80, 106, 132, 158],\r\n\t\t\t\t[6, 32, 58, 84, 110, 136, 162],\r\n\t\t\t\t[6, 26, 54, 82, 110, 138, 166],\r\n\t\t\t\t[6, 30, 58, 86, 114, 142, 170]\r\n\t\t\t];\r\n\t\t\tvar G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\r\n\t\t\tvar G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\r\n\t\t\tvar G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\tvar getBCHDigit = function (data) {\r\n\t\t\t\tvar digit = 0;\r\n\t\t\t\twhile (data != 0) {\r\n\t\t\t\t\tdigit += 1;\r\n\t\t\t\t\tdata >>>= 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn digit;\r\n\t\t\t};\r\n\r\n\t\t\t_this.getBCHTypeInfo = function (data) {\r\n\t\t\t\tvar d = data << 10;\r\n\t\t\t\twhile (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\r\n\t\t\t\t\td ^= (G15 << (getBCHDigit(d) - getBCHDigit(G15)));\r\n\t\t\t\t}\r\n\t\t\t\treturn ((data << 10) | d) ^ G15_MASK;\r\n\t\t\t};\r\n\r\n\t\t\t_this.getBCHTypeNumber = function (data) {\r\n\t\t\t\tvar d = data << 12;\r\n\t\t\t\twhile (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\r\n\t\t\t\t\td ^= (G18 << (getBCHDigit(d) - getBCHDigit(G18)));\r\n\t\t\t\t}\r\n\t\t\t\treturn (data << 12) | d;\r\n\t\t\t};\r\n\r\n\t\t\t_this.getPatternPosition = function (typeNumber) {\r\n\t\t\t\treturn PATTERN_POSITION_TABLE[typeNumber - 1];\r\n\t\t\t};\r\n\r\n\t\t\t_this.getMaskFunction = function (maskPattern) {\r\n\r\n\t\t\t\tswitch (maskPattern) {\r\n\r\n\t\t\t\t\tcase QRMaskPattern.PATTERN000:\r\n\t\t\t\t\t\treturn function (i, j) { return (i + j) % 2 == 0; };\r\n\t\t\t\t\tcase QRMaskPattern.PATTERN001:\r\n\t\t\t\t\t\treturn function (i, j) { return i % 2 == 0; };\r\n\t\t\t\t\tcase QRMaskPattern.PATTERN010:\r\n\t\t\t\t\t\treturn function (i, j) { return j % 3 == 0; };\r\n\t\t\t\t\tcase QRMaskPattern.PATTERN011:\r\n\t\t\t\t\t\treturn function (i, j) { return (i + j) % 3 == 0; };\r\n\t\t\t\t\tcase QRMaskPattern.PATTERN100:\r\n\t\t\t\t\t\treturn function (i, j) { return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0; };\r\n\t\t\t\t\tcase QRMaskPattern.PATTERN101:\r\n\t\t\t\t\t\treturn function (i, j) { return (i * j) % 2 + (i * j) % 3 == 0; };\r\n\t\t\t\t\tcase QRMaskPattern.PATTERN110:\r\n\t\t\t\t\t\treturn function (i, j) { return ((i * j) % 2 + (i * j) % 3) % 2 == 0; };\r\n\t\t\t\t\tcase QRMaskPattern.PATTERN111:\r\n\t\t\t\t\t\treturn function (i, j) { return ((i * j) % 3 + (i + j) % 2) % 2 == 0; };\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthrow 'bad maskPattern:' + maskPattern;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t_this.getErrorCorrectPolynomial = function (errorCorrectLength) {\r\n\t\t\t\tvar a = qrPolynomial([1], 0);\r\n\t\t\t\tfor (var i = 0; i < errorCorrectLength; i += 1) {\r\n\t\t\t\t\ta = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0));\r\n\t\t\t\t}\r\n\t\t\t\treturn a;\r\n\t\t\t};\r\n\r\n\t\t\t_this.getLengthInBits = function (mode, type) {\r\n\r\n\t\t\t\tif (1 <= type && type < 10) {\r\n\r\n\t\t\t\t\t// 1 - 9\r\n\r\n\t\t\t\t\tswitch (mode) {\r\n\t\t\t\t\t\tcase QRMode.MODE_NUMBER: return 10;\r\n\t\t\t\t\t\tcase QRMode.MODE_ALPHA_NUM: return 9;\r\n\t\t\t\t\t\tcase QRMode.MODE_8BIT_BYTE: return 8;\r\n\t\t\t\t\t\tcase QRMode.MODE_KANJI: return 8;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tthrow 'mode:' + mode;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (type < 27) {\r\n\r\n\t\t\t\t\t// 10 - 26\r\n\r\n\t\t\t\t\tswitch (mode) {\r\n\t\t\t\t\t\tcase QRMode.MODE_NUMBER: return 12;\r\n\t\t\t\t\t\tcase QRMode.MODE_ALPHA_NUM: return 11;\r\n\t\t\t\t\t\tcase QRMode.MODE_8BIT_BYTE: return 16;\r\n\t\t\t\t\t\tcase QRMode.MODE_KANJI: return 10;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tthrow 'mode:' + mode;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (type < 41) {\r\n\r\n\t\t\t\t\t// 27 - 40\r\n\r\n\t\t\t\t\tswitch (mode) {\r\n\t\t\t\t\t\tcase QRMode.MODE_NUMBER: return 14;\r\n\t\t\t\t\t\tcase QRMode.MODE_ALPHA_NUM: return 13;\r\n\t\t\t\t\t\tcase QRMode.MODE_8BIT_BYTE: return 16;\r\n\t\t\t\t\t\tcase QRMode.MODE_KANJI: return 12;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tthrow 'mode:' + mode;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow 'type:' + type;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t_this.getLostPoint = function (qrcode) {\r\n\r\n\t\t\t\tvar moduleCount = qrcode.getModuleCount();\r\n\r\n\t\t\t\tvar lostPoint = 0;\r\n\r\n\t\t\t\t// LEVEL1\r\n\r\n\t\t\t\tfor (var row = 0; row < moduleCount; row += 1) {\r\n\t\t\t\t\tfor (var col = 0; col < moduleCount; col += 1) {\r\n\r\n\t\t\t\t\t\tvar sameCount = 0;\r\n\t\t\t\t\t\tvar dark = qrcode.isDark(row, col);\r\n\r\n\t\t\t\t\t\tfor (var r = -1; r <= 1; r += 1) {\r\n\r\n\t\t\t\t\t\t\tif (row + r < 0 || moduleCount <= row + r) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tfor (var c = -1; c <= 1; c += 1) {\r\n\r\n\t\t\t\t\t\t\t\tif (col + c < 0 || moduleCount <= col + c) {\r\n\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (r == 0 && c == 0) {\r\n\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (dark == qrcode.isDark(row + r, col + c)) {\r\n\t\t\t\t\t\t\t\t\tsameCount += 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (sameCount > 5) {\r\n\t\t\t\t\t\t\tlostPoint += (3 + sameCount - 5);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// LEVEL2\r\n\r\n\t\t\t\tfor (var row = 0; row < moduleCount - 1; row += 1) {\r\n\t\t\t\t\tfor (var col = 0; col < moduleCount - 1; col += 1) {\r\n\t\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\t\tif (qrcode.isDark(row, col)) count += 1;\r\n\t\t\t\t\t\tif (qrcode.isDark(row + 1, col)) count += 1;\r\n\t\t\t\t\t\tif (qrcode.isDark(row, col + 1)) count += 1;\r\n\t\t\t\t\t\tif (qrcode.isDark(row + 1, col + 1)) count += 1;\r\n\t\t\t\t\t\tif (count == 0 || count == 4) {\r\n\t\t\t\t\t\t\tlostPoint += 3;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// LEVEL3\r\n\r\n\t\t\t\tfor (var row = 0; row < moduleCount; row += 1) {\r\n\t\t\t\t\tfor (var col = 0; col < moduleCount - 6; col += 1) {\r\n\t\t\t\t\t\tif (qrcode.isDark(row, col)\r\n\t\t\t\t\t\t\t&& !qrcode.isDark(row, col + 1)\r\n\t\t\t\t\t\t\t&& qrcode.isDark(row, col + 2)\r\n\t\t\t\t\t\t\t&& qrcode.isDark(row, col + 3)\r\n\t\t\t\t\t\t\t&& qrcode.isDark(row, col + 4)\r\n\t\t\t\t\t\t\t&& !qrcode.isDark(row, col + 5)\r\n\t\t\t\t\t\t\t&& qrcode.isDark(row, col + 6)) {\r\n\t\t\t\t\t\t\tlostPoint += 40;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var col = 0; col < moduleCount; col += 1) {\r\n\t\t\t\t\tfor (var row = 0; row < moduleCount - 6; row += 1) {\r\n\t\t\t\t\t\tif (qrcode.isDark(row, col)\r\n\t\t\t\t\t\t\t&& !qrcode.isDark(row + 1, col)\r\n\t\t\t\t\t\t\t&& qrcode.isDark(row + 2, col)\r\n\t\t\t\t\t\t\t&& qrcode.isDark(row + 3, col)\r\n\t\t\t\t\t\t\t&& qrcode.isDark(row + 4, col)\r\n\t\t\t\t\t\t\t&& !qrcode.isDark(row + 5, col)\r\n\t\t\t\t\t\t\t&& qrcode.isDark(row + 6, col)) {\r\n\t\t\t\t\t\t\tlostPoint += 40;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// LEVEL4\r\n\r\n\t\t\t\tvar darkCount = 0;\r\n\r\n\t\t\t\tfor (var col = 0; col < moduleCount; col += 1) {\r\n\t\t\t\t\tfor (var row = 0; row < moduleCount; row += 1) {\r\n\t\t\t\t\t\tif (qrcode.isDark(row, col)) {\r\n\t\t\t\t\t\t\tdarkCount += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\r\n\t\t\t\tlostPoint += ratio * 10;\r\n\r\n\t\t\t\treturn lostPoint;\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t}();\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// QRMath\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar QRMath = function () {\r\n\r\n\t\t\tvar EXP_TABLE = new Array(256);\r\n\t\t\tvar LOG_TABLE = new Array(256);\r\n\r\n\t\t\t// initialize tables\r\n\t\t\tfor (var i = 0; i < 8; i += 1) {\r\n\t\t\t\tEXP_TABLE[i] = 1 << i;\r\n\t\t\t}\r\n\t\t\tfor (var i = 8; i < 256; i += 1) {\r\n\t\t\t\tEXP_TABLE[i] = EXP_TABLE[i - 4]\r\n\t\t\t\t\t^ EXP_TABLE[i - 5]\r\n\t\t\t\t\t^ EXP_TABLE[i - 6]\r\n\t\t\t\t\t^ EXP_TABLE[i - 8];\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < 255; i += 1) {\r\n\t\t\t\tLOG_TABLE[EXP_TABLE[i]] = i;\r\n\t\t\t}\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\t_this.glog = function (n) {\r\n\r\n\t\t\t\tif (n < 1) {\r\n\t\t\t\t\tthrow 'glog(' + n + ')';\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn LOG_TABLE[n];\r\n\t\t\t};\r\n\r\n\t\t\t_this.gexp = function (n) {\r\n\r\n\t\t\t\twhile (n < 0) {\r\n\t\t\t\t\tn += 255;\r\n\t\t\t\t}\r\n\r\n\t\t\t\twhile (n >= 256) {\r\n\t\t\t\t\tn -= 255;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn EXP_TABLE[n];\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t}();\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// qrPolynomial\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tfunction qrPolynomial(num, shift) {\r\n\r\n\t\t\tif (typeof num.length == 'undefined') {\r\n\t\t\t\tthrow num.length + '/' + shift;\r\n\t\t\t}\r\n\r\n\t\t\tvar _num = function () {\r\n\t\t\t\tvar offset = 0;\r\n\t\t\t\twhile (offset < num.length && num[offset] == 0) {\r\n\t\t\t\t\toffset += 1;\r\n\t\t\t\t}\r\n\t\t\t\tvar _num = new Array(num.length - offset + shift);\r\n\t\t\t\tfor (var i = 0; i < num.length - offset; i += 1) {\r\n\t\t\t\t\t_num[i] = num[i + offset];\r\n\t\t\t\t}\r\n\t\t\t\treturn _num;\r\n\t\t\t}();\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\t_this.getAt = function (index) {\r\n\t\t\t\treturn _num[index];\r\n\t\t\t};\r\n\r\n\t\t\t_this.getLength = function () {\r\n\t\t\t\treturn _num.length;\r\n\t\t\t};\r\n\r\n\t\t\t_this.multiply = function (e) {\r\n\r\n\t\t\t\tvar num = new Array(_this.getLength() + e.getLength() - 1);\r\n\r\n\t\t\t\tfor (var i = 0; i < _this.getLength(); i += 1) {\r\n\t\t\t\t\tfor (var j = 0; j < e.getLength(); j += 1) {\r\n\t\t\t\t\t\tnum[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i)) + QRMath.glog(e.getAt(j)));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn qrPolynomial(num, 0);\r\n\t\t\t};\r\n\r\n\t\t\t_this.mod = function (e) {\r\n\r\n\t\t\t\tif (_this.getLength() - e.getLength() < 0) {\r\n\t\t\t\t\treturn _this;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar ratio = QRMath.glog(_this.getAt(0)) - QRMath.glog(e.getAt(0));\r\n\r\n\t\t\t\tvar num = new Array(_this.getLength());\r\n\t\t\t\tfor (var i = 0; i < _this.getLength(); i += 1) {\r\n\t\t\t\t\tnum[i] = _this.getAt(i);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var i = 0; i < e.getLength(); i += 1) {\r\n\t\t\t\t\tnum[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i)) + ratio);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// recursive call\r\n\t\t\t\treturn qrPolynomial(num, 0).mod(e);\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// QRRSBlock\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar QRRSBlock = function () {\r\n\r\n\t\t\tvar RS_BLOCK_TABLE = [\r\n\r\n\t\t\t\t// L\r\n\t\t\t\t// M\r\n\t\t\t\t// Q\r\n\t\t\t\t// H\r\n\r\n\t\t\t\t// 1\r\n\t\t\t\t[1, 26, 19],\r\n\t\t\t\t[1, 26, 16],\r\n\t\t\t\t[1, 26, 13],\r\n\t\t\t\t[1, 26, 9],\r\n\r\n\t\t\t\t// 2\r\n\t\t\t\t[1, 44, 34],\r\n\t\t\t\t[1, 44, 28],\r\n\t\t\t\t[1, 44, 22],\r\n\t\t\t\t[1, 44, 16],\r\n\r\n\t\t\t\t// 3\r\n\t\t\t\t[1, 70, 55],\r\n\t\t\t\t[1, 70, 44],\r\n\t\t\t\t[2, 35, 17],\r\n\t\t\t\t[2, 35, 13],\r\n\r\n\t\t\t\t// 4\r\n\t\t\t\t[1, 100, 80],\r\n\t\t\t\t[2, 50, 32],\r\n\t\t\t\t[2, 50, 24],\r\n\t\t\t\t[4, 25, 9],\r\n\r\n\t\t\t\t// 5\r\n\t\t\t\t[1, 134, 108],\r\n\t\t\t\t[2, 67, 43],\r\n\t\t\t\t[2, 33, 15, 2, 34, 16],\r\n\t\t\t\t[2, 33, 11, 2, 34, 12],\r\n\r\n\t\t\t\t// 6\r\n\t\t\t\t[2, 86, 68],\r\n\t\t\t\t[4, 43, 27],\r\n\t\t\t\t[4, 43, 19],\r\n\t\t\t\t[4, 43, 15],\r\n\r\n\t\t\t\t// 7\r\n\t\t\t\t[2, 98, 78],\r\n\t\t\t\t[4, 49, 31],\r\n\t\t\t\t[2, 32, 14, 4, 33, 15],\r\n\t\t\t\t[4, 39, 13, 1, 40, 14],\r\n\r\n\t\t\t\t// 8\r\n\t\t\t\t[2, 121, 97],\r\n\t\t\t\t[2, 60, 38, 2, 61, 39],\r\n\t\t\t\t[4, 40, 18, 2, 41, 19],\r\n\t\t\t\t[4, 40, 14, 2, 41, 15],\r\n\r\n\t\t\t\t// 9\r\n\t\t\t\t[2, 146, 116],\r\n\t\t\t\t[3, 58, 36, 2, 59, 37],\r\n\t\t\t\t[4, 36, 16, 4, 37, 17],\r\n\t\t\t\t[4, 36, 12, 4, 37, 13],\r\n\r\n\t\t\t\t// 10\r\n\t\t\t\t[2, 86, 68, 2, 87, 69],\r\n\t\t\t\t[4, 69, 43, 1, 70, 44],\r\n\t\t\t\t[6, 43, 19, 2, 44, 20],\r\n\t\t\t\t[6, 43, 15, 2, 44, 16],\r\n\r\n\t\t\t\t// 11\r\n\t\t\t\t[4, 101, 81],\r\n\t\t\t\t[1, 80, 50, 4, 81, 51],\r\n\t\t\t\t[4, 50, 22, 4, 51, 23],\r\n\t\t\t\t[3, 36, 12, 8, 37, 13],\r\n\r\n\t\t\t\t// 12\r\n\t\t\t\t[2, 116, 92, 2, 117, 93],\r\n\t\t\t\t[6, 58, 36, 2, 59, 37],\r\n\t\t\t\t[4, 46, 20, 6, 47, 21],\r\n\t\t\t\t[7, 42, 14, 4, 43, 15],\r\n\r\n\t\t\t\t// 13\r\n\t\t\t\t[4, 133, 107],\r\n\t\t\t\t[8, 59, 37, 1, 60, 38],\r\n\t\t\t\t[8, 44, 20, 4, 45, 21],\r\n\t\t\t\t[12, 33, 11, 4, 34, 12],\r\n\r\n\t\t\t\t// 14\r\n\t\t\t\t[3, 145, 115, 1, 146, 116],\r\n\t\t\t\t[4, 64, 40, 5, 65, 41],\r\n\t\t\t\t[11, 36, 16, 5, 37, 17],\r\n\t\t\t\t[11, 36, 12, 5, 37, 13],\r\n\r\n\t\t\t\t// 15\r\n\t\t\t\t[5, 109, 87, 1, 110, 88],\r\n\t\t\t\t[5, 65, 41, 5, 66, 42],\r\n\t\t\t\t[5, 54, 24, 7, 55, 25],\r\n\t\t\t\t[11, 36, 12, 7, 37, 13],\r\n\r\n\t\t\t\t// 16\r\n\t\t\t\t[5, 122, 98, 1, 123, 99],\r\n\t\t\t\t[7, 73, 45, 3, 74, 46],\r\n\t\t\t\t[15, 43, 19, 2, 44, 20],\r\n\t\t\t\t[3, 45, 15, 13, 46, 16],\r\n\r\n\t\t\t\t// 17\r\n\t\t\t\t[1, 135, 107, 5, 136, 108],\r\n\t\t\t\t[10, 74, 46, 1, 75, 47],\r\n\t\t\t\t[1, 50, 22, 15, 51, 23],\r\n\t\t\t\t[2, 42, 14, 17, 43, 15],\r\n\r\n\t\t\t\t// 18\r\n\t\t\t\t[5, 150, 120, 1, 151, 121],\r\n\t\t\t\t[9, 69, 43, 4, 70, 44],\r\n\t\t\t\t[17, 50, 22, 1, 51, 23],\r\n\t\t\t\t[2, 42, 14, 19, 43, 15],\r\n\r\n\t\t\t\t// 19\r\n\t\t\t\t[3, 141, 113, 4, 142, 114],\r\n\t\t\t\t[3, 70, 44, 11, 71, 45],\r\n\t\t\t\t[17, 47, 21, 4, 48, 22],\r\n\t\t\t\t[9, 39, 13, 16, 40, 14],\r\n\r\n\t\t\t\t// 20\r\n\t\t\t\t[3, 135, 107, 5, 136, 108],\r\n\t\t\t\t[3, 67, 41, 13, 68, 42],\r\n\t\t\t\t[15, 54, 24, 5, 55, 25],\r\n\t\t\t\t[15, 43, 15, 10, 44, 16],\r\n\r\n\t\t\t\t// 21\r\n\t\t\t\t[4, 144, 116, 4, 145, 117],\r\n\t\t\t\t[17, 68, 42],\r\n\t\t\t\t[17, 50, 22, 6, 51, 23],\r\n\t\t\t\t[19, 46, 16, 6, 47, 17],\r\n\r\n\t\t\t\t// 22\r\n\t\t\t\t[2, 139, 111, 7, 140, 112],\r\n\t\t\t\t[17, 74, 46],\r\n\t\t\t\t[7, 54, 24, 16, 55, 25],\r\n\t\t\t\t[34, 37, 13],\r\n\r\n\t\t\t\t// 23\r\n\t\t\t\t[4, 151, 121, 5, 152, 122],\r\n\t\t\t\t[4, 75, 47, 14, 76, 48],\r\n\t\t\t\t[11, 54, 24, 14, 55, 25],\r\n\t\t\t\t[16, 45, 15, 14, 46, 16],\r\n\r\n\t\t\t\t// 24\r\n\t\t\t\t[6, 147, 117, 4, 148, 118],\r\n\t\t\t\t[6, 73, 45, 14, 74, 46],\r\n\t\t\t\t[11, 54, 24, 16, 55, 25],\r\n\t\t\t\t[30, 46, 16, 2, 47, 17],\r\n\r\n\t\t\t\t// 25\r\n\t\t\t\t[8, 132, 106, 4, 133, 107],\r\n\t\t\t\t[8, 75, 47, 13, 76, 48],\r\n\t\t\t\t[7, 54, 24, 22, 55, 25],\r\n\t\t\t\t[22, 45, 15, 13, 46, 16],\r\n\r\n\t\t\t\t// 26\r\n\t\t\t\t[10, 142, 114, 2, 143, 115],\r\n\t\t\t\t[19, 74, 46, 4, 75, 47],\r\n\t\t\t\t[28, 50, 22, 6, 51, 23],\r\n\t\t\t\t[33, 46, 16, 4, 47, 17],\r\n\r\n\t\t\t\t// 27\r\n\t\t\t\t[8, 152, 122, 4, 153, 123],\r\n\t\t\t\t[22, 73, 45, 3, 74, 46],\r\n\t\t\t\t[8, 53, 23, 26, 54, 24],\r\n\t\t\t\t[12, 45, 15, 28, 46, 16],\r\n\r\n\t\t\t\t// 28\r\n\t\t\t\t[3, 147, 117, 10, 148, 118],\r\n\t\t\t\t[3, 73, 45, 23, 74, 46],\r\n\t\t\t\t[4, 54, 24, 31, 55, 25],\r\n\t\t\t\t[11, 45, 15, 31, 46, 16],\r\n\r\n\t\t\t\t// 29\r\n\t\t\t\t[7, 146, 116, 7, 147, 117],\r\n\t\t\t\t[21, 73, 45, 7, 74, 46],\r\n\t\t\t\t[1, 53, 23, 37, 54, 24],\r\n\t\t\t\t[19, 45, 15, 26, 46, 16],\r\n\r\n\t\t\t\t// 30\r\n\t\t\t\t[5, 145, 115, 10, 146, 116],\r\n\t\t\t\t[19, 75, 47, 10, 76, 48],\r\n\t\t\t\t[15, 54, 24, 25, 55, 25],\r\n\t\t\t\t[23, 45, 15, 25, 46, 16],\r\n\r\n\t\t\t\t// 31\r\n\t\t\t\t[13, 145, 115, 3, 146, 116],\r\n\t\t\t\t[2, 74, 46, 29, 75, 47],\r\n\t\t\t\t[42, 54, 24, 1, 55, 25],\r\n\t\t\t\t[23, 45, 15, 28, 46, 16],\r\n\r\n\t\t\t\t// 32\r\n\t\t\t\t[17, 145, 115],\r\n\t\t\t\t[10, 74, 46, 23, 75, 47],\r\n\t\t\t\t[10, 54, 24, 35, 55, 25],\r\n\t\t\t\t[19, 45, 15, 35, 46, 16],\r\n\r\n\t\t\t\t// 33\r\n\t\t\t\t[17, 145, 115, 1, 146, 116],\r\n\t\t\t\t[14, 74, 46, 21, 75, 47],\r\n\t\t\t\t[29, 54, 24, 19, 55, 25],\r\n\t\t\t\t[11, 45, 15, 46, 46, 16],\r\n\r\n\t\t\t\t// 34\r\n\t\t\t\t[13, 145, 115, 6, 146, 116],\r\n\t\t\t\t[14, 74, 46, 23, 75, 47],\r\n\t\t\t\t[44, 54, 24, 7, 55, 25],\r\n\t\t\t\t[59, 46, 16, 1, 47, 17],\r\n\r\n\t\t\t\t// 35\r\n\t\t\t\t[12, 151, 121, 7, 152, 122],\r\n\t\t\t\t[12, 75, 47, 26, 76, 48],\r\n\t\t\t\t[39, 54, 24, 14, 55, 25],\r\n\t\t\t\t[22, 45, 15, 41, 46, 16],\r\n\r\n\t\t\t\t// 36\r\n\t\t\t\t[6, 151, 121, 14, 152, 122],\r\n\t\t\t\t[6, 75, 47, 34, 76, 48],\r\n\t\t\t\t[46, 54, 24, 10, 55, 25],\r\n\t\t\t\t[2, 45, 15, 64, 46, 16],\r\n\r\n\t\t\t\t// 37\r\n\t\t\t\t[17, 152, 122, 4, 153, 123],\r\n\t\t\t\t[29, 74, 46, 14, 75, 47],\r\n\t\t\t\t[49, 54, 24, 10, 55, 25],\r\n\t\t\t\t[24, 45, 15, 46, 46, 16],\r\n\r\n\t\t\t\t// 38\r\n\t\t\t\t[4, 152, 122, 18, 153, 123],\r\n\t\t\t\t[13, 74, 46, 32, 75, 47],\r\n\t\t\t\t[48, 54, 24, 14, 55, 25],\r\n\t\t\t\t[42, 45, 15, 32, 46, 16],\r\n\r\n\t\t\t\t// 39\r\n\t\t\t\t[20, 147, 117, 4, 148, 118],\r\n\t\t\t\t[40, 75, 47, 7, 76, 48],\r\n\t\t\t\t[43, 54, 24, 22, 55, 25],\r\n\t\t\t\t[10, 45, 15, 67, 46, 16],\r\n\r\n\t\t\t\t// 40\r\n\t\t\t\t[19, 148, 118, 6, 149, 119],\r\n\t\t\t\t[18, 75, 47, 31, 76, 48],\r\n\t\t\t\t[34, 54, 24, 34, 55, 25],\r\n\t\t\t\t[20, 45, 15, 61, 46, 16]\r\n\t\t\t];\r\n\r\n\t\t\tvar qrRSBlock = function (totalCount, dataCount) {\r\n\t\t\t\tvar _this = {};\r\n\t\t\t\t_this.totalCount = totalCount;\r\n\t\t\t\t_this.dataCount = dataCount;\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\tvar getRsBlockTable = function (typeNumber, errorCorrectionLevel) {\r\n\r\n\t\t\t\tswitch (errorCorrectionLevel) {\r\n\t\t\t\t\tcase QRErrorCorrectionLevel.L:\r\n\t\t\t\t\t\treturn RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\r\n\t\t\t\t\tcase QRErrorCorrectionLevel.M:\r\n\t\t\t\t\t\treturn RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\r\n\t\t\t\t\tcase QRErrorCorrectionLevel.Q:\r\n\t\t\t\t\t\treturn RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\r\n\t\t\t\t\tcase QRErrorCorrectionLevel.H:\r\n\t\t\t\t\t\treturn RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn undefined;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t_this.getRSBlocks = function (typeNumber, errorCorrectionLevel) {\r\n\r\n\t\t\t\tvar rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\r\n\r\n\t\t\t\tif (typeof rsBlock == 'undefined') {\r\n\t\t\t\t\tthrow 'bad rs block @ typeNumber:' + typeNumber +\r\n\t\t\t\t\t'/errorCorrectionLevel:' + errorCorrectionLevel;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar length = rsBlock.length / 3;\r\n\r\n\t\t\t\tvar list = [];\r\n\r\n\t\t\t\tfor (var i = 0; i < length; i += 1) {\r\n\r\n\t\t\t\t\tvar count = rsBlock[i * 3 + 0];\r\n\t\t\t\t\tvar totalCount = rsBlock[i * 3 + 1];\r\n\t\t\t\t\tvar dataCount = rsBlock[i * 3 + 2];\r\n\r\n\t\t\t\t\tfor (var j = 0; j < count; j += 1) {\r\n\t\t\t\t\t\tlist.push(qrRSBlock(totalCount, dataCount));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn list;\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t}();\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// qrBitBuffer\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar qrBitBuffer = function () {\r\n\r\n\t\t\tvar _buffer = [];\r\n\t\t\tvar _length = 0;\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\t_this.getBuffer = function () {\r\n\t\t\t\treturn _buffer;\r\n\t\t\t};\r\n\r\n\t\t\t_this.getAt = function (index) {\r\n\t\t\t\tvar bufIndex = Math.floor(index / 8);\r\n\t\t\t\treturn ((_buffer[bufIndex] >>> (7 - index % 8)) & 1) == 1;\r\n\t\t\t};\r\n\r\n\t\t\t_this.put = function (num, length) {\r\n\t\t\t\tfor (var i = 0; i < length; i += 1) {\r\n\t\t\t\t\t_this.putBit(((num >>> (length - i - 1)) & 1) == 1);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t_this.getLengthInBits = function () {\r\n\t\t\t\treturn _length;\r\n\t\t\t};\r\n\r\n\t\t\t_this.putBit = function (bit) {\r\n\r\n\t\t\t\tvar bufIndex = Math.floor(_length / 8);\r\n\t\t\t\tif (_buffer.length <= bufIndex) {\r\n\t\t\t\t\t_buffer.push(0);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (bit) {\r\n\t\t\t\t\t_buffer[bufIndex] |= (0x80 >>> (_length % 8));\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_length += 1;\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// qrNumber\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar qrNumber = function (data) {\r\n\r\n\t\t\tvar _mode = QRMode.MODE_NUMBER;\r\n\t\t\tvar _data = data;\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\t_this.getMode = function () {\r\n\t\t\t\treturn _mode;\r\n\t\t\t};\r\n\r\n\t\t\t_this.getLength = function (buffer) {\r\n\t\t\t\treturn _data.length;\r\n\t\t\t};\r\n\r\n\t\t\t_this.write = function (buffer) {\r\n\r\n\t\t\t\tvar data = _data;\r\n\r\n\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\twhile (i + 2 < data.length) {\r\n\t\t\t\t\tbuffer.put(strToNum(data.substring(i, i + 3)), 10);\r\n\t\t\t\t\ti += 3;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i < data.length) {\r\n\t\t\t\t\tif (data.length - i == 1) {\r\n\t\t\t\t\t\tbuffer.put(strToNum(data.substring(i, i + 1)), 4);\r\n\t\t\t\t\t} else if (data.length - i == 2) {\r\n\t\t\t\t\t\tbuffer.put(strToNum(data.substring(i, i + 2)), 7);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar strToNum = function (s) {\r\n\t\t\t\tvar num = 0;\r\n\t\t\t\tfor (var i = 0; i < s.length; i += 1) {\r\n\t\t\t\t\tnum = num * 10 + chatToNum(s.charAt(i));\r\n\t\t\t\t}\r\n\t\t\t\treturn num;\r\n\t\t\t};\r\n\r\n\t\t\tvar chatToNum = function (c) {\r\n\t\t\t\tif ('0' <= c && c <= '9') {\r\n\t\t\t\t\treturn c.charCodeAt(0) - '0'.charCodeAt(0);\r\n\t\t\t\t}\r\n\t\t\t\tthrow 'illegal char :' + c;\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// qrAlphaNum\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar qrAlphaNum = function (data) {\r\n\r\n\t\t\tvar _mode = QRMode.MODE_ALPHA_NUM;\r\n\t\t\tvar _data = data;\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\t_this.getMode = function () {\r\n\t\t\t\treturn _mode;\r\n\t\t\t};\r\n\r\n\t\t\t_this.getLength = function (buffer) {\r\n\t\t\t\treturn _data.length;\r\n\t\t\t};\r\n\r\n\t\t\t_this.write = function (buffer) {\r\n\r\n\t\t\t\tvar s = _data;\r\n\r\n\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\twhile (i + 1 < s.length) {\r\n\t\t\t\t\tbuffer.put(\r\n\t\t\t\t\t\tgetCode(s.charAt(i)) * 45 +\r\n\t\t\t\t\t\tgetCode(s.charAt(i + 1)), 11);\r\n\t\t\t\t\ti += 2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i < s.length) {\r\n\t\t\t\t\tbuffer.put(getCode(s.charAt(i)), 6);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar getCode = function (c) {\r\n\r\n\t\t\t\tif ('0' <= c && c <= '9') {\r\n\t\t\t\t\treturn c.charCodeAt(0) - '0'.charCodeAt(0);\r\n\t\t\t\t} else if ('A' <= c && c <= 'Z') {\r\n\t\t\t\t\treturn c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tswitch (c) {\r\n\t\t\t\t\t\tcase ' ': return 36;\r\n\t\t\t\t\t\tcase '$': return 37;\r\n\t\t\t\t\t\tcase '%': return 38;\r\n\t\t\t\t\t\tcase '*': return 39;\r\n\t\t\t\t\t\tcase '+': return 40;\r\n\t\t\t\t\t\tcase '-': return 41;\r\n\t\t\t\t\t\tcase '.': return 42;\r\n\t\t\t\t\t\tcase '/': return 43;\r\n\t\t\t\t\t\tcase ':': return 44;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tthrow 'illegal char :' + c;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// qr8BitByte\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar qr8BitByte = function (data) {\r\n\r\n\t\t\tvar _mode = QRMode.MODE_8BIT_BYTE;\r\n\t\t\tvar _data = data;\r\n\t\t\tvar _bytes = qrcode.stringToBytes(data);\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\t_this.getMode = function () {\r\n\t\t\t\treturn _mode;\r\n\t\t\t};\r\n\r\n\t\t\t_this.getLength = function (buffer) {\r\n\t\t\t\treturn _bytes.length;\r\n\t\t\t};\r\n\r\n\t\t\t_this.write = function (buffer) {\r\n\t\t\t\tfor (var i = 0; i < _bytes.length; i += 1) {\r\n\t\t\t\t\tbuffer.put(_bytes[i], 8);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// qrKanji\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar qrKanji = function (data) {\r\n\r\n\t\t\tvar _mode = QRMode.MODE_KANJI;\r\n\t\t\tvar _data = data;\r\n\r\n\t\t\tvar stringToBytes = qrcode.stringToBytesFuncs['SJIS'];\r\n\t\t\tif (!stringToBytes) {\r\n\t\t\t\tthrow 'sjis not supported.';\r\n\t\t\t}\r\n\t\t\t!function (c, code) {\r\n\t\t\t\t// self test for sjis support.\r\n\t\t\t\tvar test = stringToBytes(c);\r\n\t\t\t\tif (test.length != 2 || ((test[0] << 8) | test[1]) != code) {\r\n\t\t\t\t\tthrow 'sjis not supported.';\r\n\t\t\t\t}\r\n\t\t\t}('\\u53cb', 0x9746);\r\n\r\n\t\t\tvar _bytes = stringToBytes(data);\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\t_this.getMode = function () {\r\n\t\t\t\treturn _mode;\r\n\t\t\t};\r\n\r\n\t\t\t_this.getLength = function (buffer) {\r\n\t\t\t\treturn ~~(_bytes.length / 2);\r\n\t\t\t};\r\n\r\n\t\t\t_this.write = function (buffer) {\r\n\r\n\t\t\t\tvar data = _bytes;\r\n\r\n\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\twhile (i + 1 < data.length) {\r\n\r\n\t\t\t\t\tvar c = ((0xff & data[i]) << 8) | (0xff & data[i + 1]);\r\n\r\n\t\t\t\t\tif (0x8140 <= c && c <= 0x9FFC) {\r\n\t\t\t\t\t\tc -= 0x8140;\r\n\t\t\t\t\t} else if (0xE040 <= c && c <= 0xEBBF) {\r\n\t\t\t\t\t\tc -= 0xC140;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow 'illegal char at ' + (i + 1) + '/' + c;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tc = ((c >>> 8) & 0xff) * 0xC0 + (c & 0xff);\r\n\r\n\t\t\t\t\tbuffer.put(c, 13);\r\n\r\n\t\t\t\t\ti += 2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i < data.length) {\r\n\t\t\t\t\tthrow 'illegal char at ' + (i + 1);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\t//=====================================================================\r\n\t\t// GIF Support etc.\r\n\t\t//\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// byteArrayOutputStream\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar byteArrayOutputStream = function () {\r\n\r\n\t\t\tvar _bytes = [];\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\t_this.writeByte = function (b) {\r\n\t\t\t\t_bytes.push(b & 0xff);\r\n\t\t\t};\r\n\r\n\t\t\t_this.writeShort = function (i) {\r\n\t\t\t\t_this.writeByte(i);\r\n\t\t\t\t_this.writeByte(i >>> 8);\r\n\t\t\t};\r\n\r\n\t\t\t_this.writeBytes = function (b, off, len) {\r\n\t\t\t\toff = off || 0;\r\n\t\t\t\tlen = len || b.length;\r\n\t\t\t\tfor (var i = 0; i < len; i += 1) {\r\n\t\t\t\t\t_this.writeByte(b[i + off]);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t_this.writeString = function (s) {\r\n\t\t\t\tfor (var i = 0; i < s.length; i += 1) {\r\n\t\t\t\t\t_this.writeByte(s.charCodeAt(i));\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t_this.toByteArray = function () {\r\n\t\t\t\treturn _bytes;\r\n\t\t\t};\r\n\r\n\t\t\t_this.toString = function () {\r\n\t\t\t\tvar s = '';\r\n\t\t\t\ts += '[';\r\n\t\t\t\tfor (var i = 0; i < _bytes.length; i += 1) {\r\n\t\t\t\t\tif (i > 0) {\r\n\t\t\t\t\t\ts += ',';\r\n\t\t\t\t\t}\r\n\t\t\t\t\ts += _bytes[i];\r\n\t\t\t\t}\r\n\t\t\t\ts += ']';\r\n\t\t\t\treturn s;\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// base64EncodeOutputStream\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar base64EncodeOutputStream = function () {\r\n\r\n\t\t\tvar _buffer = 0;\r\n\t\t\tvar _buflen = 0;\r\n\t\t\tvar _length = 0;\r\n\t\t\tvar _base64 = '';\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\tvar writeEncoded = function (b) {\r\n\t\t\t\t_base64 += String.fromCharCode(encode(b & 0x3f));\r\n\t\t\t};\r\n\r\n\t\t\tvar encode = function (n) {\r\n\t\t\t\tif (n < 0) {\r\n\t\t\t\t\t// error.\r\n\t\t\t\t} else if (n < 26) {\r\n\t\t\t\t\treturn 0x41 + n;\r\n\t\t\t\t} else if (n < 52) {\r\n\t\t\t\t\treturn 0x61 + (n - 26);\r\n\t\t\t\t} else if (n < 62) {\r\n\t\t\t\t\treturn 0x30 + (n - 52);\r\n\t\t\t\t} else if (n == 62) {\r\n\t\t\t\t\treturn 0x2b;\r\n\t\t\t\t} else if (n == 63) {\r\n\t\t\t\t\treturn 0x2f;\r\n\t\t\t\t}\r\n\t\t\t\tthrow 'n:' + n;\r\n\t\t\t};\r\n\r\n\t\t\t_this.writeByte = function (n) {\r\n\r\n\t\t\t\t_buffer = (_buffer << 8) | (n & 0xff);\r\n\t\t\t\t_buflen += 8;\r\n\t\t\t\t_length += 1;\r\n\r\n\t\t\t\twhile (_buflen >= 6) {\r\n\t\t\t\t\twriteEncoded(_buffer >>> (_buflen - 6));\r\n\t\t\t\t\t_buflen -= 6;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t_this.flush = function () {\r\n\r\n\t\t\t\tif (_buflen > 0) {\r\n\t\t\t\t\twriteEncoded(_buffer << (6 - _buflen));\r\n\t\t\t\t\t_buffer = 0;\r\n\t\t\t\t\t_buflen = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_length % 3 != 0) {\r\n\t\t\t\t\t// padding\r\n\t\t\t\t\tvar padlen = 3 - _length % 3;\r\n\t\t\t\t\tfor (var i = 0; i < padlen; i += 1) {\r\n\t\t\t\t\t\t_base64 += '=';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t_this.toString = function () {\r\n\t\t\t\treturn _base64;\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// base64DecodeInputStream\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar base64DecodeInputStream = function (str) {\r\n\r\n\t\t\tvar _str = str;\r\n\t\t\tvar _pos = 0;\r\n\t\t\tvar _buffer = 0;\r\n\t\t\tvar _buflen = 0;\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\t_this.read = function () {\r\n\r\n\t\t\t\twhile (_buflen < 8) {\r\n\r\n\t\t\t\t\tif (_pos >= _str.length) {\r\n\t\t\t\t\t\tif (_buflen == 0) {\r\n\t\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthrow 'unexpected end of file./' + _buflen;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar c = _str.charAt(_pos);\r\n\t\t\t\t\t_pos += 1;\r\n\r\n\t\t\t\t\tif (c == '=') {\r\n\t\t\t\t\t\t_buflen = 0;\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t} else if (c.match(/^\\s$/)) {\r\n\t\t\t\t\t\t// ignore if whitespace.\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_buffer = (_buffer << 6) | decode(c.charCodeAt(0));\r\n\t\t\t\t\t_buflen += 6;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar n = (_buffer >>> (_buflen - 8)) & 0xff;\r\n\t\t\t\t_buflen -= 8;\r\n\t\t\t\treturn n;\r\n\t\t\t};\r\n\r\n\t\t\tvar decode = function (c) {\r\n\t\t\t\tif (0x41 <= c && c <= 0x5a) {\r\n\t\t\t\t\treturn c - 0x41;\r\n\t\t\t\t} else if (0x61 <= c && c <= 0x7a) {\r\n\t\t\t\t\treturn c - 0x61 + 26;\r\n\t\t\t\t} else if (0x30 <= c && c <= 0x39) {\r\n\t\t\t\t\treturn c - 0x30 + 52;\r\n\t\t\t\t} else if (c == 0x2b) {\r\n\t\t\t\t\treturn 62;\r\n\t\t\t\t} else if (c == 0x2f) {\r\n\t\t\t\t\treturn 63;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow 'c:' + c;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// gifImage (B/W)\r\n\t\t//---------------------------------------------------------------------\r\n\r\n\t\tvar gifImage = function (width, height) {\r\n\r\n\t\t\tvar _width = width;\r\n\t\t\tvar _height = height;\r\n\t\t\tvar _data = new Array(width * height);\r\n\r\n\t\t\tvar _this = {};\r\n\r\n\t\t\t_this.setPixel = function (x, y, pixel) {\r\n\t\t\t\t_data[y * _width + x] = pixel;\r\n\t\t\t};\r\n\r\n\t\t\t_this.write = function (out) {\r\n\r\n\t\t\t\t//---------------------------------\r\n\t\t\t\t// GIF Signature\r\n\r\n\t\t\t\tout.writeString('GIF87a');\r\n\r\n\t\t\t\t//---------------------------------\r\n\t\t\t\t// Screen Descriptor\r\n\r\n\t\t\t\tout.writeShort(_width);\r\n\t\t\t\tout.writeShort(_height);\r\n\r\n\t\t\t\tout.writeByte(0x80); // 2bit\r\n\t\t\t\tout.writeByte(0);\r\n\t\t\t\tout.writeByte(0);\r\n\r\n\t\t\t\t//---------------------------------\r\n\t\t\t\t// Global Color Map\r\n\r\n\t\t\t\t// black\r\n\t\t\t\tout.writeByte(0x00);\r\n\t\t\t\tout.writeByte(0x00);\r\n\t\t\t\tout.writeByte(0x00);\r\n\r\n\t\t\t\t// white\r\n\t\t\t\tout.writeByte(0xff);\r\n\t\t\t\tout.writeByte(0xff);\r\n\t\t\t\tout.writeByte(0xff);\r\n\r\n\t\t\t\t//---------------------------------\r\n\t\t\t\t// Image Descriptor\r\n\r\n\t\t\t\tout.writeString(',');\r\n\t\t\t\tout.writeShort(0);\r\n\t\t\t\tout.writeShort(0);\r\n\t\t\t\tout.writeShort(_width);\r\n\t\t\t\tout.writeShort(_height);\r\n\t\t\t\tout.writeByte(0);\r\n\r\n\t\t\t\t//---------------------------------\r\n\t\t\t\t// Local Color Map\r\n\r\n\t\t\t\t//---------------------------------\r\n\t\t\t\t// Raster Data\r\n\r\n\t\t\t\tvar lzwMinCodeSize = 2;\r\n\t\t\t\tvar raster = getLZWRaster(lzwMinCodeSize);\r\n\r\n\t\t\t\tout.writeByte(lzwMinCodeSize);\r\n\r\n\t\t\t\tvar offset = 0;\r\n\r\n\t\t\t\twhile (raster.length - offset > 255) {\r\n\t\t\t\t\tout.writeByte(255);\r\n\t\t\t\t\tout.writeBytes(raster, offset, 255);\r\n\t\t\t\t\toffset += 255;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tout.writeByte(raster.length - offset);\r\n\t\t\t\tout.writeBytes(raster, offset, raster.length - offset);\r\n\t\t\t\tout.writeByte(0x00);\r\n\r\n\t\t\t\t//---------------------------------\r\n\t\t\t\t// GIF Terminator\r\n\t\t\t\tout.writeString(';');\r\n\t\t\t};\r\n\r\n\t\t\tvar bitOutputStream = function (out) {\r\n\r\n\t\t\t\tvar _out = out;\r\n\t\t\t\tvar _bitLength = 0;\r\n\t\t\t\tvar _bitBuffer = 0;\r\n\r\n\t\t\t\tvar _this = {};\r\n\r\n\t\t\t\t_this.write = function (data, length) {\r\n\r\n\t\t\t\t\tif ((data >>> length) != 0) {\r\n\t\t\t\t\t\tthrow 'length over';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile (_bitLength + length >= 8) {\r\n\t\t\t\t\t\t_out.writeByte(0xff & ((data << _bitLength) | _bitBuffer));\r\n\t\t\t\t\t\tlength -= (8 - _bitLength);\r\n\t\t\t\t\t\tdata >>>= (8 - _bitLength);\r\n\t\t\t\t\t\t_bitBuffer = 0;\r\n\t\t\t\t\t\t_bitLength = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_bitBuffer = (data << _bitLength) | _bitBuffer;\r\n\t\t\t\t\t_bitLength = _bitLength + length;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t_this.flush = function () {\r\n\t\t\t\t\tif (_bitLength > 0) {\r\n\t\t\t\t\t\t_out.writeByte(_bitBuffer);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\r\n\t\t\tvar getLZWRaster = function (lzwMinCodeSize) {\r\n\r\n\t\t\t\tvar clearCode = 1 << lzwMinCodeSize;\r\n\t\t\t\tvar endCode = (1 << lzwMinCodeSize) + 1;\r\n\t\t\t\tvar bitLength = lzwMinCodeSize + 1;\r\n\r\n\t\t\t\t// Setup LZWTable\r\n\t\t\t\tvar table = lzwTable();\r\n\r\n\t\t\t\tfor (var i = 0; i < clearCode; i += 1) {\r\n\t\t\t\t\ttable.add(String.fromCharCode(i));\r\n\t\t\t\t}\r\n\t\t\t\ttable.add(String.fromCharCode(clearCode));\r\n\t\t\t\ttable.add(String.fromCharCode(endCode));\r\n\r\n\t\t\t\tvar byteOut = byteArrayOutputStream();\r\n\t\t\t\tvar bitOut = bitOutputStream(byteOut);\r\n\r\n\t\t\t\t// clear code\r\n\t\t\t\tbitOut.write(clearCode, bitLength);\r\n\r\n\t\t\t\tvar dataIndex = 0;\r\n\r\n\t\t\t\tvar s = String.fromCharCode(_data[dataIndex]);\r\n\t\t\t\tdataIndex += 1;\r\n\r\n\t\t\t\twhile (dataIndex < _data.length) {\r\n\r\n\t\t\t\t\tvar c = String.fromCharCode(_data[dataIndex]);\r\n\t\t\t\t\tdataIndex += 1;\r\n\r\n\t\t\t\t\tif (table.contains(s + c)) {\r\n\r\n\t\t\t\t\t\ts = s + c;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tbitOut.write(table.indexOf(s), bitLength);\r\n\r\n\t\t\t\t\t\tif (table.size() < 0xfff) {\r\n\r\n\t\t\t\t\t\t\tif (table.size() == (1 << bitLength)) {\r\n\t\t\t\t\t\t\t\tbitLength += 1;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\ttable.add(s + c);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ts = c;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbitOut.write(table.indexOf(s), bitLength);\r\n\r\n\t\t\t\t// end code\r\n\t\t\t\tbitOut.write(endCode, bitLength);\r\n\r\n\t\t\t\tbitOut.flush();\r\n\r\n\t\t\t\treturn byteOut.toByteArray();\r\n\t\t\t};\r\n\r\n\t\t\tvar lzwTable = function () {\r\n\r\n\t\t\t\tvar _map = {};\r\n\t\t\t\tvar _size = 0;\r\n\r\n\t\t\t\tvar _this = {};\r\n\r\n\t\t\t\t_this.add = function (key) {\r\n\t\t\t\t\tif (_this.contains(key)) {\r\n\t\t\t\t\t\tthrow 'dup key:' + key;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_map[key] = _size;\r\n\t\t\t\t\t_size += 1;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t_this.size = function () {\r\n\t\t\t\t\treturn _size;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t_this.indexOf = function (key) {\r\n\t\t\t\t\treturn _map[key];\r\n\t\t\t\t};\r\n\r\n\t\t\t\t_this.contains = function (key) {\r\n\t\t\t\t\treturn typeof _map[key] != 'undefined';\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\r\n\t\t\treturn _this;\r\n\t\t};\r\n\r\n\t\tvar createDataURL = function (width, height, getPixel) {\r\n\t\t\tvar gif = gifImage(width, height);\r\n\t\t\tfor (var y = 0; y < height; y += 1) {\r\n\t\t\t\tfor (var x = 0; x < width; x += 1) {\r\n\t\t\t\t\tgif.setPixel(x, y, getPixel(x, y));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar b = byteArrayOutputStream();\r\n\t\t\tgif.write(b);\r\n\r\n\t\t\tvar base64 = base64EncodeOutputStream();\r\n\t\t\tvar bytes = b.toByteArray();\r\n\t\t\tfor (var i = 0; i < bytes.length; i += 1) {\r\n\t\t\t\tbase64.writeByte(bytes[i]);\r\n\t\t\t}\r\n\t\t\tbase64.flush();\r\n\r\n\t\t\treturn 'data:image/gif;base64,' + base64;\r\n\t\t};\r\n\r\n\t\t//---------------------------------------------------------------------\r\n\t\t// returns qrcode function.\r\n\r\n\t\treturn qrcode;\r\n\t}();\r\n\r\n\t// multibyte support\r\n\t!function () {\r\n\r\n\t\tqrcode.stringToBytesFuncs['UTF-8'] = function (s) {\r\n\t\t\t// http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\r\n\t\t\tfunction toUTF8Array(str) {\r\n\t\t\t\tvar utf8 = [];\r\n\t\t\t\tfor (var i = 0; i < str.length; i++) {\r\n\t\t\t\t\tvar charcode = str.charCodeAt(i);\r\n\t\t\t\t\tif (charcode < 0x80) utf8.push(charcode);\r\n\t\t\t\t\telse if (charcode < 0x800) {\r\n\t\t\t\t\t\tutf8.push(0xc0 | (charcode >> 6),\r\n\t\t\t\t\t\t\t0x80 | (charcode & 0x3f));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (charcode < 0xd800 || charcode >= 0xe000) {\r\n\t\t\t\t\t\tutf8.push(0xe0 | (charcode >> 12),\r\n\t\t\t\t\t\t\t0x80 | ((charcode >> 6) & 0x3f),\r\n\t\t\t\t\t\t\t0x80 | (charcode & 0x3f));\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// surrogate pair\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t// UTF-16 encodes 0x10000-0x10FFFF by\r\n\t\t\t\t\t\t// subtracting 0x10000 and splitting the\r\n\t\t\t\t\t\t// 20 bits of 0x0-0xFFFFF into two halves\r\n\t\t\t\t\t\tcharcode = 0x10000 + (((charcode & 0x3ff) << 10)\r\n\t\t\t\t\t\t\t| (str.charCodeAt(i) & 0x3ff));\r\n\t\t\t\t\t\tutf8.push(0xf0 | (charcode >> 18),\r\n\t\t\t\t\t\t\t0x80 | ((charcode >> 12) & 0x3f),\r\n\t\t\t\t\t\t\t0x80 | ((charcode >> 6) & 0x3f),\r\n\t\t\t\t\t\t\t0x80 | (charcode & 0x3f));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn utf8;\r\n\t\t\t}\r\n\t\t\treturn toUTF8Array(s);\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\treturn qrcode;\r\n}));"]}